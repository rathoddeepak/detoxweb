"use strict";(self.webpackChunkdetoxweb=self.webpackChunkdetoxweb||[]).push([[995],{6995:(t,i,s)=>{s.r(i),s.d(i,{AudioProvider:()=>a});var e=s(4596);s(2791),s(4164);class a extends e.H{constructor(){super(...arguments),this.$$PROVIDER_TYPE="AUDIO"}get type(){return"audio"}setup(t){super.setup(t),"audio"===this.type&&t.delegate.Nb("provider-setup",{detail:this})}get audio(){return this.Ba}}},4596:(t,i,s)=>{s.d(i,{H:()=>n,R:()=>h});var e=s(4245),a=s(6398);class h{constructor(t){this.Bg=t}uc(){(0,e.i)(this.Dc)&&this.xj()}vc(){(0,e.d)(this.Dc)&&window.cancelAnimationFrame(this.Dc),this.Dc=void 0}xj(){this.Dc=window.requestAnimationFrame((()=>{(0,e.i)(this.Dc)||(this.Bg(),this.xj())}))}}class r{constructor(t,i){this.Wb=t,this.zi=i,this.qi=(0,e.u)(),this.Pi=!1,this.Ri=!1,this.Si=!1,this.Qi=new h(this.Vi.bind(this)),this.Wi=void 0,this.pj=void 0,this.Xi(),(0,e.e)(this.Yi.bind(this)),(0,e.o)(this.si.bind(this))}get Ba(){return this.Wb.media}get Wc(){return this.zi.delegate}si(){this.Ri=!1,this.Si=!1,this.Qi.vc(),this.qi.empty()}Vi(){const t=this.Wb.currentTime;this.zi.$state.currentTime()!==t&&this.Oi(t)}Xi(){this.Ni("loadstart",this.Kf),this.Ni("abort",this.Ui),this.Ni("emptied",this.Zi),this.Ni("error",this.od)}_i(){this.Ri||(this.qi.add(this.Ni("loadeddata",this.$i),this.Ni("loadedmetadata",this.aj),this.Ni("canplay",this.hd),this.Ni("canplaythrough",this.bj),this.Ni("durationchange",this.cj),this.Ni("play",this.qa),this.Ni("progress",this.dj),this.Ni("stalled",this.ej),this.Ni("suspend",this.fj)),this.Ri=!0)}gj(){this.Si||(this.qi.add(this.Ni("pause",this.ra),this.Ni("playing",this.hj),this.Ni("ratechange",this.ij),this.Ni("seeked",this.jj),this.Ni("seeking",this.kj),this.Ni("ended",this.lj),this.Ni("volumechange",this.vd),this.Ni("waiting",this.mj)),this.Si=!0)}Ni(t,i){return(0,e.l)(this.Ba,t,i.bind(this))}qj(t){}Oi(t,i){this.Wc.Nb("time-update",{detail:{currentTime:Math.min(t,this.zi.$state.seekableEnd()),played:this.Ba.played},trigger:i})}Kf(t){3!==this.Ba.networkState?(this._i(),this.Wc.Nb("load-start",{trigger:t})):this.Ui(t)}Ui(t){this.Wc.Nb("abort",{trigger:t})}Zi(){this.Wc.Nb("emptied",{trigger:event})}$i(t){this.Wc.Nb("loaded-data",{trigger:t})}aj(t){this.gj(),this.Wc.Nb("volume-change",{detail:{volume:this.Ba.volume,muted:this.Ba.muted}}),this.Wc.Nb("loaded-metadata",{trigger:t}),a.f&&(0,a.g)(this.zi.$state.source())&&this.Wc.Dg(this.Ti(),t)}Ti(){return{duration:this.Ba.duration,buffered:this.Ba.buffered,seekable:this.Ba.seekable}}qa(t){this.zi.$state.canPlay&&this.Wc.Nb("play",{trigger:t})}ra(t){(1!==this.Ba.readyState||this.Pi)&&(this.Pi=!1,this.Qi.vc(),this.Wc.Nb("pause",{trigger:t}))}hd(t){this.Wc.Dg(this.Ti(),t)}bj(t){this.zi.$state.started()||this.Wc.Nb("can-play-through",{trigger:t,detail:this.Ti()})}hj(t){this.Pi=!1,this.Wc.Nb("playing",{trigger:t}),this.Qi.uc()}ej(t){this.Wc.Nb("stalled",{trigger:t}),this.Ba.readyState<3&&(this.Pi=!0,this.Wc.Nb("waiting",{trigger:t}))}mj(t){this.Ba.readyState<3&&(this.Pi=!0,this.Wc.Nb("waiting",{trigger:t}))}lj(t){this.Qi.vc(),this.Oi(this.Ba.duration,t),this.Wc.Nb("end",{trigger:t}),this.zi.$state.loop()?this.nj():this.Wc.Nb("ended",{trigger:t})}Yi(){this.zi.$state.paused()&&(0,e.l)(this.Ba,"timeupdate",this.oj.bind(this))}oj(t){this.Oi(this.Ba.currentTime,t)}cj(t){this.zi.$state.ended()&&this.Oi(this.Ba.duration,t),this.Wc.Nb("duration-change",{detail:this.Ba.duration,trigger:t})}vd(t){this.Wc.Nb("volume-change",{detail:{volume:this.Ba.volume,muted:this.Ba.muted},trigger:t})}jj(t){this.Oi(this.Ba.currentTime,t),this.Wc.Nb("seeked",{detail:this.Ba.currentTime,trigger:t}),Math.trunc(this.Ba.currentTime)===Math.trunc(this.Ba.duration)&&(0,a.h)(this.Ba.duration)>(0,a.h)(this.Ba.currentTime)&&(this.Oi(this.Ba.duration,t),this.Ba.ended||this.zi.player.dispatch(new e.D("media-play-request",{trigger:t})))}kj(t){this.Wc.Nb("seeking",{detail:this.Ba.currentTime,trigger:t})}dj(t){this.Wc.Nb("progress",{detail:{buffered:this.Ba.buffered,seekable:this.Ba.seekable},trigger:t})}nj(){(0,e.f)(this.Ba.controls)&&(this.Ba.controls=!1),this.zi.player.dispatch(new e.D("media-loop-request"))}fj(t){this.Wc.Nb("suspend",{trigger:t})}ij(t){this.Wc.Nb("rate-change",{detail:this.Ba.playbackRate,trigger:t})}od(t){const i=this.Ba.error;i&&this.Wc.Nb("error",{detail:{message:i.message,code:i.code,mediaError:i},trigger:t})}}class d{constructor(t,i){this.Wb=t,this.R=i,this.rj.onaddtrack=this.tj.bind(this),this.rj.onremovetrack=this.uj.bind(this),this.rj.onchange=this.vj.bind(this),(0,e.l)(this.R.audioTracks,"change",this.wj.bind(this))}get rj(){return this.Wb.media.audioTracks}tj(t){const i=t.track;if(""===i.label)return;const s={id:i.id+"",label:i.label,language:i.language,kind:i.kind,selected:!1};this.R.audioTracks[a.L.h](s,t),i.enabled&&(s.selected=!0)}uj(t){const i=this.R.audioTracks.getById(t.track.id);i&&this.R.audioTracks[a.L.f](i,t)}vj(t){let i=this.sj();if(!i)return;const s=this.R.audioTracks.getById(i.id);s&&this.R.audioTracks[a.L.$](s,!0,t)}sj(){return Array.from(this.rj).find((t=>t.enabled))}wj(t){const{current:i}=t.detail;if(!i)return;const s=this.rj.getTrackById(i.id);if(s){const t=this.sj();t&&(t.enabled=!1),s.enabled=!0}}}class n{constructor(t){this.Ba=t,this.scope=(0,e.g)(),this.jg=null}setup(t){new r(this,t),"audioTracks"in this.media&&new d(this,t),(0,e.o)((()=>{this.Ba.setAttribute("src",""),this.Ba.load()}))}get type(){return""}get media(){return this.Ba}get currentSrc(){return this.jg}get paused(){return this.Ba.paused}get muted(){return this.Ba.muted}set muted(t){this.Ba.muted=t}get volume(){return this.Ba.volume}set volume(t){this.Ba.volume=t}get currentTime(){return this.Ba.currentTime}set currentTime(t){this.Ba.currentTime=t}get playsinline(){return this.Ba.hasAttribute("playsinline")}set playsinline(t){(0,e.h)(this.Ba,"playsinline",t)}get playbackRate(){return this.Ba.playbackRate}set playbackRate(t){this.Ba.playbackRate=t}async play(){return this.Ba.play()}async pause(){return this.Ba.pause()}async loadSource(t,i){let{src:s,type:h}=t;this.Ba.preload=i||"",(0,a.j)(s)?this.Ba.srcObject=s:(this.Ba.srcObject=null,this.Ba.src=(0,e.a)(s)?s:window.URL.createObjectURL(s)),this.Ba.load(),this.jg={src:s,type:h}}}}}]);
//# sourceMappingURL=995.dd0d5958.chunk.js.map