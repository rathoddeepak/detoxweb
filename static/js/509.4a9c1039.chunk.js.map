{"version":3,"file":"static/js/509.4a9c1039.chunk.js","mappings":"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","sources":["../node_modules/@vidstack/react/dist/prod/chunks/vidstack-BDEG6RNK.js","../node_modules/@vidstack/react/dist/prod/chunks/vidstack-DscYSLiW.js","../node_modules/@vidstack/react/dist/prod/chunks/vidstack-Nbls93w9.js"],"sourcesContent":["\"use client\"\n\nimport { h as createScope, s as signal, g as effect, j as isString, n as isObject, c as isNumber, o as isBoolean } from './vidstack-BNPvxaQh.js';\nimport { T as TimeRange, p as preconnect } from './vidstack-BRXztYRL.js';\nimport { E as EmbedProvider, t as timedPromise } from './vidstack-Nbls93w9.js';\nimport { resolveYouTubeVideoId } from './vidstack-DscYSLiW.js';\nimport 'react';\n\nconst YouTubePlayerState = {\n  Rj: -1,\n  Ve: 0,\n  We: 1,\n  Ng: 2,\n  Og: 3,\n  Pg: 5\n};\n\nclass YouTubeProvider extends EmbedProvider {\n  constructor(iframe, _ctx) {\n    super(iframe);\n    this.b = _ctx;\n    this.$$PROVIDER_TYPE = \"YOUTUBE\";\n    this.scope = createScope();\n    this.O = signal(\"\");\n    this.nc = -1;\n    this.oc = -1;\n    this.Wk = false;\n    this.Ga = 0;\n    this.Ha = new TimeRange(0, 0);\n    this.W = null;\n    this.F = null;\n    this.H = null;\n    /**\n     * Sets the player's interface language. The parameter value is an ISO 639-1 two-letter\n     * language code or a fully specified locale. For example, fr and fr-ca are both valid values.\n     * Other language input codes, such as IETF language tags (BCP 47) might also be handled properly.\n     *\n     * The interface language is used for tooltips in the player and also affects the default caption\n     * track. Note that YouTube might select a different caption track language for a particular\n     * user based on the user's individual language preferences and the availability of caption tracks.\n     *\n     * @defaultValue 'en'\n     */\n    this.language = \"en\";\n    this.color = \"red\";\n    /**\n     * Whether cookies should be enabled on the embed. This is turned off by default to be\n     * GDPR-compliant.\n     *\n     * @defaultValue `false`\n     */\n    this.cookies = false;\n  }\n  get c() {\n    return this.b.delegate.c;\n  }\n  get currentSrc() {\n    return this.W;\n  }\n  get type() {\n    return \"youtube\";\n  }\n  get videoId() {\n    return this.O();\n  }\n  preconnect() {\n    preconnect(this.fb());\n  }\n  setup() {\n    super.setup();\n    effect(this.ld.bind(this));\n    this.c(\"provider-setup\", this);\n  }\n  async play() {\n    const { paused } = this.b.$state;\n    if (!this.F) {\n      this.F = timedPromise(() => {\n        this.F = null;\n        if (paused())\n          return \"Timed out.\";\n      });\n      this.q(\"playVideo\");\n    }\n    return this.F.promise;\n  }\n  async pause() {\n    const { paused } = this.b.$state;\n    if (!this.H) {\n      this.H = timedPromise(() => {\n        this.H = null;\n        if (!paused())\n          ;\n      });\n      this.q(\"pauseVideo\");\n    }\n    return this.H.promise;\n  }\n  setMuted(muted) {\n    if (muted)\n      this.q(\"mute\");\n    else\n      this.q(\"unMute\");\n  }\n  setCurrentTime(time) {\n    this.Wk = this.b.$state.paused();\n    this.q(\"seekTo\", time);\n    this.c(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.q(\"setVolume\", volume * 100);\n  }\n  setPlaybackRate(rate) {\n    this.q(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!isString(src.src)) {\n      this.W = null;\n      this.O.set(\"\");\n      return;\n    }\n    const videoId = resolveYouTubeVideoId(src.src);\n    this.O.set(videoId ?? \"\");\n    this.W = src;\n  }\n  fb() {\n    return !this.cookies ? \"https://www.youtube-nocookie.com\" : \"https://www.youtube.com\";\n  }\n  ld() {\n    this.I();\n    const videoId = this.O();\n    if (!videoId) {\n      this.db.set(\"\");\n      return;\n    }\n    this.db.set(`${this.fb()}/embed/${videoId}`);\n    this.c(\"load-start\");\n  }\n  Ue() {\n    const { keyDisabled } = this.b.$props, { $iosControls } = this.b, { controls, muted, playsInline } = this.b.$state, showControls = controls() || $iosControls();\n    return {\n      autoplay: 0,\n      cc_lang_pref: this.language,\n      cc_load_policy: showControls ? 1 : void 0,\n      color: this.color,\n      controls: showControls ? 1 : 0,\n      disablekb: !showControls || keyDisabled() ? 1 : 0,\n      enablejsapi: 1,\n      fs: 1,\n      hl: this.language,\n      iv_load_policy: showControls ? 1 : 3,\n      mute: muted() ? 1 : 0,\n      playsinline: playsInline() ? 1 : 0\n    };\n  }\n  q(command, arg) {\n    this.hd({\n      event: \"command\",\n      func: command,\n      args: arg ? [arg] : void 0\n    });\n  }\n  mc() {\n    window.setTimeout(() => this.hd({ event: \"listening\" }), 100);\n  }\n  nd(trigger) {\n    this.c(\"loaded-metadata\");\n    this.c(\"loaded-data\");\n    this.b.delegate.kc(void 0, trigger);\n  }\n  Ba(trigger) {\n    this.H?.resolve();\n    this.H = null;\n    this.c(\"pause\", void 0, trigger);\n  }\n  Fb(time, trigger) {\n    const { duration, realCurrentTime } = this.b.$state, hasEnded = this.nc === YouTubePlayerState.Ve, boundTime = hasEnded ? duration() : time, detail = {\n      currentTime: boundTime,\n      played: this.Ek(boundTime)\n    };\n    this.c(\"time-update\", detail, trigger);\n    if (!hasEnded && Math.abs(boundTime - realCurrentTime()) > 1) {\n      this.c(\"seeking\", boundTime, trigger);\n    }\n  }\n  Ek(time) {\n    return this.Ga >= time ? this.Ha : this.Ha = new TimeRange(0, this.Ga = time);\n  }\n  jc(buffered, seekable, trigger) {\n    const detail = {\n      buffered: new TimeRange(0, buffered),\n      seekable\n    };\n    this.c(\"progress\", detail, trigger);\n    const { seeking, realCurrentTime } = this.b.$state;\n    if (seeking() && buffered > realCurrentTime()) {\n      this.cb(trigger);\n    }\n  }\n  cb(trigger) {\n    const { paused, realCurrentTime } = this.b.$state;\n    window.clearTimeout(this.oc);\n    this.oc = window.setTimeout(\n      () => {\n        this.c(\"seeked\", realCurrentTime(), trigger);\n        this.oc = -1;\n      },\n      paused() ? 100 : 0\n    );\n    this.Wk = false;\n  }\n  Eb(trigger) {\n    const { seeking } = this.b.$state;\n    if (seeking())\n      this.cb(trigger);\n    this.c(\"pause\", void 0, trigger);\n    this.c(\"end\", void 0, trigger);\n  }\n  Sg(state, trigger) {\n    const { started, paused, seeking } = this.b.$state, isPlaying = state === YouTubePlayerState.We, isBuffering = state === YouTubePlayerState.Og, isPlay = (paused() || this.F) && (isBuffering || isPlaying);\n    if (isBuffering)\n      this.c(\"waiting\", void 0, trigger);\n    if (seeking() && isPlaying) {\n      this.cb(trigger);\n    }\n    if (!started() && isPlay && this.Wk) {\n      this.F?.reject(\"invalid internal play operation\");\n      this.F = null;\n      if (isPlaying) {\n        this.pause();\n        this.Wk = false;\n      }\n      return;\n    }\n    if (isPlay) {\n      this.F?.resolve();\n      this.F = null;\n      this.c(\"play\", void 0, trigger);\n    }\n    switch (state) {\n      case YouTubePlayerState.Pg:\n        this.nd(trigger);\n        break;\n      case YouTubePlayerState.We:\n        this.c(\"playing\", void 0, trigger);\n        break;\n      case YouTubePlayerState.Ng:\n        this.Ba(trigger);\n        break;\n      case YouTubePlayerState.Ve:\n        this.Eb(trigger);\n        break;\n    }\n    this.nc = state;\n  }\n  jd({ info }, event) {\n    if (!info)\n      return;\n    const { title, intrinsicDuration, playbackRate } = this.b.$state;\n    if (isObject(info.videoData) && info.videoData.title !== title()) {\n      this.c(\"title-change\", info.videoData.title, event);\n    }\n    if (isNumber(info.duration) && info.duration !== intrinsicDuration()) {\n      if (isNumber(info.videoLoadedFraction)) {\n        const buffered = info.progressState?.loaded ?? info.videoLoadedFraction * info.duration, seekable = new TimeRange(0, info.duration);\n        this.jc(buffered, seekable, event);\n      }\n      this.c(\"duration-change\", info.duration, event);\n    }\n    if (isNumber(info.playbackRate) && info.playbackRate !== playbackRate()) {\n      this.c(\"rate-change\", info.playbackRate, event);\n    }\n    if (info.progressState) {\n      const {\n        current,\n        seekableStart,\n        seekableEnd,\n        loaded,\n        duration: _duration\n      } = info.progressState;\n      this.Fb(current, event);\n      this.jc(loaded, new TimeRange(seekableStart, seekableEnd), event);\n      if (_duration !== intrinsicDuration()) {\n        this.c(\"duration-change\", _duration, event);\n      }\n    }\n    if (isNumber(info.volume) && isBoolean(info.muted)) {\n      const detail = {\n        muted: info.muted,\n        volume: info.volume / 100\n      };\n      this.c(\"volume-change\", detail, event);\n    }\n    if (isNumber(info.playerState) && info.playerState !== this.nc) {\n      this.Sg(info.playerState, event);\n    }\n  }\n  I() {\n    this.nc = -1;\n    this.oc = -1;\n    this.Ga = 0;\n    this.Ha = new TimeRange(0, 0);\n    this.F = null;\n    this.H = null;\n    this.Wk = false;\n  }\n}\n\nexport { YouTubeProvider };\n","\"use client\"\n\nconst videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId))\n    return posterCache.get(videoId);\n  if (pendingFetch.has(videoId))\n    return pendingFetch.get(videoId);\n  const pending = new Promise(async (resolve) => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp), response = await fetch(url, {\n          mode: \"no-cors\",\n          signal: abort.signal\n        });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\n\nexport { findYouTubePoster, resolveYouTubeVideoId };\n","\"use client\"\n\nimport { k as deferredPromise, s as signal, l as listenEvent, g as effect, p as peek, j as isString } from './vidstack-BNPvxaQh.js';\nimport { c as appendParamsToURL, I as IS_SERVER } from './vidstack-BRXztYRL.js';\n\nfunction timedPromise(callback, ms = 3e3) {\n  const promise = deferredPromise();\n  setTimeout(() => {\n    const rejection = callback();\n    if (rejection)\n      promise.reject(rejection);\n  }, ms);\n  return promise;\n}\n\nclass EmbedProvider {\n  constructor(_iframe) {\n    this.eb = _iframe;\n    this.db = signal(\"\");\n    /**\n     * Defines which referrer is sent when fetching the resource.\n     *\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy}\n     */\n    this.referrerPolicy = null;\n    _iframe.setAttribute(\"frameBorder\", \"0\");\n    _iframe.setAttribute(\"aria-hidden\", \"true\");\n    _iframe.setAttribute(\n      \"allow\",\n      \"autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope\"\n    );\n    if (this.referrerPolicy !== null) {\n      _iframe.setAttribute(\"referrerpolicy\", this.referrerPolicy);\n    }\n  }\n  get iframe() {\n    return this.eb;\n  }\n  setup() {\n    listenEvent(window, \"message\", this.Mg.bind(this));\n    listenEvent(this.eb, \"load\", this.mc.bind(this));\n    effect(this.gd.bind(this));\n  }\n  gd() {\n    const src = this.db();\n    if (!src.length) {\n      this.eb.setAttribute(\"src\", \"\");\n      return;\n    }\n    const params = peek(() => this.Ue());\n    this.eb.setAttribute(\"src\", appendParamsToURL(src, params));\n  }\n  hd(message, target) {\n    if (IS_SERVER)\n      return;\n    this.eb.contentWindow?.postMessage(JSON.stringify(message), target ?? \"*\");\n  }\n  Mg(event) {\n    const origin = this.fb(), isOriginMatch = (event.source === null || event.source === this.eb?.contentWindow) && (!isString(origin) || origin === event.origin);\n    if (!isOriginMatch)\n      return;\n    try {\n      const message = JSON.parse(event.data);\n      if (message)\n        this.jd(message, event);\n      return;\n    } catch (e) {\n    }\n    if (event.data)\n      this.jd(event.data, event);\n  }\n}\n\nexport { EmbedProvider as E, timedPromise as t };\n"],"names":["YouTubePlayerState","YouTubeProvider","EmbedProvider","constructor","iframe","_ctx","super","this","b","$$PROVIDER_TYPE","scope","createScope","O","signal","nc","oc","Wk","Ga","Ha","TimeRange","W","F","H","language","color","cookies","c","delegate","currentSrc","type","videoId","preconnect","fb","setup","effect","ld","bind","play","paused","$state","timedPromise","q","promise","pause","setMuted","muted","setCurrentTime","time","setVolume","volume","setPlaybackRate","rate","loadSource","src","isString","set","resolveYouTubeVideoId","I","db","concat","Ue","keyDisabled","$props","$iosControls","controls","playsInline","showControls","autoplay","cc_lang_pref","cc_load_policy","disablekb","enablejsapi","fs","hl","iv_load_policy","mute","playsinline","command","arg","hd","event","func","args","mc","window","setTimeout","nd","trigger","kc","Ba","_this$H","resolve","Fb","duration","realCurrentTime","hasEnded","boundTime","detail","currentTime","played","Ek","Math","abs","jc","buffered","seekable","seeking","cb","clearTimeout","Eb","Sg","state","started","isPlaying","isBuffering","isPlay","_this$F","_this$F2","reject","jd","_ref","info","title","intrinsicDuration","playbackRate","isObject","videoData","isNumber","videoLoadedFraction","_info$progressState$l","_info$progressState","progressState","loaded","current","seekableStart","seekableEnd","_duration","isBoolean","playerState","videoIdRE","posterCache","Map","pendingFetch","_src$match","match","async","findYouTubePoster","abort","has","get","pending","Promise","sizes","size","webp","url","resolveYouTubePosterURL","fetch","mode","status","catch","finally","delete","callback","ms","arguments","length","undefined","deferredPromise","rejection","_iframe","eb","referrerPolicy","setAttribute","listenEvent","Mg","gd","params","peek","appendParamsToURL","message","target","_this$eb$contentWindo","IS_SERVER","contentWindow","postMessage","JSON","stringify","_this$eb","origin","source","parse","data","e"],"sourceRoot":""}