"use strict";(self.webpackChunkdetoxweb=self.webpackChunkdetoxweb||[]).push([[209],{4596:(t,i,e)=>{e.d(i,{H:()=>c,R:()=>r});var s=e(4245),a=e(6398);class r{constructor(t){this.Bg=t}uc(){(0,s.i)(this.Dc)&&this.xj()}vc(){(0,s.d)(this.Dc)&&window.cancelAnimationFrame(this.Dc),this.Dc=void 0}xj(){this.Dc=window.requestAnimationFrame((()=>{(0,s.i)(this.Dc)||(this.Bg(),this.xj())}))}}class h{constructor(t,i){this.Wb=t,this.zi=i,this.qi=(0,s.u)(),this.Pi=!1,this.Ri=!1,this.Si=!1,this.Qi=new r(this.Vi.bind(this)),this.Wi=void 0,this.pj=void 0,this.Xi(),(0,s.e)(this.Yi.bind(this)),(0,s.o)(this.si.bind(this))}get Ba(){return this.Wb.media}get Wc(){return this.zi.delegate}si(){this.Ri=!1,this.Si=!1,this.Qi.vc(),this.qi.empty()}Vi(){const t=this.Wb.currentTime;this.zi.$state.currentTime()!==t&&this.Oi(t)}Xi(){this.Ni("loadstart",this.Kf),this.Ni("abort",this.Ui),this.Ni("emptied",this.Zi),this.Ni("error",this.od)}_i(){this.Ri||(this.qi.add(this.Ni("loadeddata",this.$i),this.Ni("loadedmetadata",this.aj),this.Ni("canplay",this.hd),this.Ni("canplaythrough",this.bj),this.Ni("durationchange",this.cj),this.Ni("play",this.qa),this.Ni("progress",this.dj),this.Ni("stalled",this.ej),this.Ni("suspend",this.fj)),this.Ri=!0)}gj(){this.Si||(this.qi.add(this.Ni("pause",this.ra),this.Ni("playing",this.hj),this.Ni("ratechange",this.ij),this.Ni("seeked",this.jj),this.Ni("seeking",this.kj),this.Ni("ended",this.lj),this.Ni("volumechange",this.vd),this.Ni("waiting",this.mj)),this.Si=!0)}Ni(t,i){return(0,s.l)(this.Ba,t,i.bind(this))}qj(t){}Oi(t,i){this.Wc.Nb("time-update",{detail:{currentTime:Math.min(t,this.zi.$state.seekableEnd()),played:this.Ba.played},trigger:i})}Kf(t){3!==this.Ba.networkState?(this._i(),this.Wc.Nb("load-start",{trigger:t})):this.Ui(t)}Ui(t){this.Wc.Nb("abort",{trigger:t})}Zi(){this.Wc.Nb("emptied",{trigger:event})}$i(t){this.Wc.Nb("loaded-data",{trigger:t})}aj(t){this.gj(),this.Wc.Nb("volume-change",{detail:{volume:this.Ba.volume,muted:this.Ba.muted}}),this.Wc.Nb("loaded-metadata",{trigger:t}),a.f&&(0,a.g)(this.zi.$state.source())&&this.Wc.Dg(this.Ti(),t)}Ti(){return{duration:this.Ba.duration,buffered:this.Ba.buffered,seekable:this.Ba.seekable}}qa(t){this.zi.$state.canPlay&&this.Wc.Nb("play",{trigger:t})}ra(t){(1!==this.Ba.readyState||this.Pi)&&(this.Pi=!1,this.Qi.vc(),this.Wc.Nb("pause",{trigger:t}))}hd(t){this.Wc.Dg(this.Ti(),t)}bj(t){this.zi.$state.started()||this.Wc.Nb("can-play-through",{trigger:t,detail:this.Ti()})}hj(t){this.Pi=!1,this.Wc.Nb("playing",{trigger:t}),this.Qi.uc()}ej(t){this.Wc.Nb("stalled",{trigger:t}),this.Ba.readyState<3&&(this.Pi=!0,this.Wc.Nb("waiting",{trigger:t}))}mj(t){this.Ba.readyState<3&&(this.Pi=!0,this.Wc.Nb("waiting",{trigger:t}))}lj(t){this.Qi.vc(),this.Oi(this.Ba.duration,t),this.Wc.Nb("end",{trigger:t}),this.zi.$state.loop()?this.nj():this.Wc.Nb("ended",{trigger:t})}Yi(){this.zi.$state.paused()&&(0,s.l)(this.Ba,"timeupdate",this.oj.bind(this))}oj(t){this.Oi(this.Ba.currentTime,t)}cj(t){this.zi.$state.ended()&&this.Oi(this.Ba.duration,t),this.Wc.Nb("duration-change",{detail:this.Ba.duration,trigger:t})}vd(t){this.Wc.Nb("volume-change",{detail:{volume:this.Ba.volume,muted:this.Ba.muted},trigger:t})}jj(t){this.Oi(this.Ba.currentTime,t),this.Wc.Nb("seeked",{detail:this.Ba.currentTime,trigger:t}),Math.trunc(this.Ba.currentTime)===Math.trunc(this.Ba.duration)&&(0,a.h)(this.Ba.duration)>(0,a.h)(this.Ba.currentTime)&&(this.Oi(this.Ba.duration,t),this.Ba.ended||this.zi.player.dispatch(new s.D("media-play-request",{trigger:t})))}kj(t){this.Wc.Nb("seeking",{detail:this.Ba.currentTime,trigger:t})}dj(t){this.Wc.Nb("progress",{detail:{buffered:this.Ba.buffered,seekable:this.Ba.seekable},trigger:t})}nj(){(0,s.f)(this.Ba.controls)&&(this.Ba.controls=!1),this.zi.player.dispatch(new s.D("media-loop-request"))}fj(t){this.Wc.Nb("suspend",{trigger:t})}ij(t){this.Wc.Nb("rate-change",{detail:this.Ba.playbackRate,trigger:t})}od(t){const i=this.Ba.error;i&&this.Wc.Nb("error",{detail:{message:i.message,code:i.code,mediaError:i},trigger:t})}}class n{constructor(t,i){this.Wb=t,this.R=i,this.rj.onaddtrack=this.tj.bind(this),this.rj.onremovetrack=this.uj.bind(this),this.rj.onchange=this.vj.bind(this),(0,s.l)(this.R.audioTracks,"change",this.wj.bind(this))}get rj(){return this.Wb.media.audioTracks}tj(t){const i=t.track;if(""===i.label)return;const e={id:i.id+"",label:i.label,language:i.language,kind:i.kind,selected:!1};this.R.audioTracks[a.L.h](e,t),i.enabled&&(e.selected=!0)}uj(t){const i=this.R.audioTracks.getById(t.track.id);i&&this.R.audioTracks[a.L.f](i,t)}vj(t){let i=this.sj();if(!i)return;const e=this.R.audioTracks.getById(i.id);e&&this.R.audioTracks[a.L.$](e,!0,t)}sj(){return Array.from(this.rj).find((t=>t.enabled))}wj(t){const{current:i}=t.detail;if(!i)return;const e=this.rj.getTrackById(i.id);if(e){const t=this.sj();t&&(t.enabled=!1),e.enabled=!0}}}class c{constructor(t){this.Ba=t,this.scope=(0,s.g)(),this.jg=null}setup(t){new h(this,t),"audioTracks"in this.media&&new n(this,t),(0,s.o)((()=>{this.Ba.setAttribute("src",""),this.Ba.load()}))}get type(){return""}get media(){return this.Ba}get currentSrc(){return this.jg}get paused(){return this.Ba.paused}get muted(){return this.Ba.muted}set muted(t){this.Ba.muted=t}get volume(){return this.Ba.volume}set volume(t){this.Ba.volume=t}get currentTime(){return this.Ba.currentTime}set currentTime(t){this.Ba.currentTime=t}get playsinline(){return this.Ba.hasAttribute("playsinline")}set playsinline(t){(0,s.h)(this.Ba,"playsinline",t)}get playbackRate(){return this.Ba.playbackRate}set playbackRate(t){this.Ba.playbackRate=t}async play(){return this.Ba.play()}async pause(){return this.Ba.pause()}async loadSource(t,i){let{src:e,type:r}=t;this.Ba.preload=i||"",(0,a.j)(e)?this.Ba.srcObject=e:(this.Ba.srcObject=null,this.Ba.src=(0,s.a)(e)?e:window.URL.createObjectURL(e)),this.Ba.load(),this.jg={src:e,type:r}}}},9209:(t,i,e)=>{e.r(i),e.d(i,{VideoProvider:()=>o});var s=e(4245),a=e(6398),r=e(4596);e(2791),e(4164);class h{constructor(t,i){this.xa=t,this.R=i,t.textTracks.onaddtrack=this.Da.bind(this),(0,s.o)(this.si.bind(this))}Da(t){const i=t.track;if(!i||function(t,i){return Array.from(t.children).find((t=>t.track===i))}(this.xa,i))return;const e=new a.T({id:i.id,kind:i.kind,label:i.label,language:i.language,type:"vtt"});e[a.a.Va]={track:i},e[a.a.Na]=2,e[a.a.Ha]=!0;let s=0;const r=t=>{if(i.cues)for(let a=s;a<i.cues.length;a++)e.addCue(i.cues[a],t),s++};r(t),i.oncuechange=r,this.R.textTracks.add(e,t),e.setMode(i.mode,t)}si(){this.xa.textTracks.onaddtrack=null;for(const i of this.R.textTracks){var t;const e=null===(t=i[a.a.Va])||void 0===t?void 0:t.track;null!==e&&void 0!==e&&e.oncuechange&&(e.oncuechange=null)}}}class n{constructor(t,i){this.xa=t,this.Ba=i,this.oa=(t,i)=>{this.Ba.delegate.Nb("picture-in-picture-change",{detail:t,trigger:i})},(0,s.l)(this.xa,"enterpictureinpicture",this.ti.bind(this)),(0,s.l)(this.xa,"leavepictureinpicture",this.ui.bind(this))}get active(){return document.pictureInPictureElement===this.xa}get supported(){return(0,a.b)(this.xa)}async enter(){return this.xa.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}ti(t){this.oa(!0,t)}ui(t){this.oa(!1,t)}}class c{constructor(t,i){this.xa=t,this.Ba=i,this.Ra="inline",(0,s.l)(this.xa,"webkitpresentationmodechanged",this.$a.bind(this))}get xi(){return(0,a.d)(this.xa)}async wi(t){this.Ra!==t&&this.xa.webkitSetPresentationMode(t)}$a(){var t;const i=this.Ra;this.Ra=this.xa.webkitPresentationMode,null===(t=this.Ba.player)||void 0===t||t.dispatch(new s.D("video-presentation-change",{detail:this.Ra,trigger:event})),["fullscreen","picture-in-picture"].forEach((t=>{this.Ra!==t&&i!==t||this.Ba.delegate.Nb("".concat(t,"-change"),{detail:this.Ra===t,trigger:event})}))}}class d{constructor(t){this.vi=t}get active(){return"fullscreen"===this.vi.Ra}get supported(){return this.vi.xi}async enter(){this.vi.wi("fullscreen")}async exit(){this.vi.wi("inline")}}class u{constructor(t){this.vi=t}get active(){return"picture-in-picture"===this.vi.Ra}get supported(){return this.vi.xi}async enter(){this.vi.wi("picture-in-picture")}async exit(){this.vi.wi("inline")}}class o extends r.H{constructor(t,i){super(t),this.$$PROVIDER_TYPE="VIDEO",(0,s.s)((()=>{if((0,a.d)(t)){const e=new c(t,i);this.fullscreen=new d(e),this.pictureInPicture=new u(e)}else(0,a.b)(t)&&(this.pictureInPicture=new n(t,i))}),this.scope)}get type(){return"video"}setup(t){super.setup(t),(0,a.e)(this.video)&&new h(this.video,t),t.textRenderers.Ga(this.video),(0,s.o)((()=>{t.textRenderers.Ga(null)})),"video"===this.type&&t.delegate.Nb("provider-setup",{detail:this})}get video(){return this.Ba}}}}]);
//# sourceMappingURL=209.39bdb73c.chunk.js.map