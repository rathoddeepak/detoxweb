{"version":3,"file":"static/js/943.058307fd.chunk.js","mappings":"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","sources":["../node_modules/@vidstack/react/dist/prod/chunks/vidstack-BT-_8QDd.js","../node_modules/@vidstack/react/dist/prod/chunks/vidstack-BiHj5l-7.js","../node_modules/@vidstack/react/dist/prod/chunks/vidstack-DzsdLaKF.js","../node_modules/@vidstack/react/dist/prod/chunks/vidstack-oV0lmLfU.js"],"sourcesContent":["\"use client\"\n\nimport { i as isUndefined, c as isNumber } from './vidstack-BNPvxaQh.js';\n\nclass RAFLoop {\n  constructor(_callback) {\n    this.Da = _callback;\n  }\n  Cb() {\n    if (!isUndefined(this.da))\n      return;\n    this.Pe();\n  }\n  sa() {\n    if (isNumber(this.da))\n      window.cancelAnimationFrame(this.da);\n    this.da = void 0;\n  }\n  Pe() {\n    this.da = window.requestAnimationFrame(() => {\n      if (isUndefined(this.da))\n        return;\n      this.Da();\n      this.Pe();\n    });\n  }\n}\n\nexport { RAFLoop as R };\n","\"use client\"\n\nimport { v as useDisposalBin, g as effect, w as onDispose, l as listenEvent, p as peek, x as isNil, D as DOMEvent, h as createScope, t as setAttribute, j as isString } from './vidstack-BNPvxaQh.js';\nimport { k as IS_SAFARI, m as isHLSSrc, n as getNumberOfDecimalPlaces, L as ListSymbol, o as isMediaStream } from './vidstack-BRXztYRL.js';\nimport { R as RAFLoop } from './vidstack-BT-_8QDd.js';\n\nclass HTMLMediaEvents {\n  constructor(_provider, _ctx) {\n    this.i = _provider;\n    this.b = _ctx;\n    this.ta = useDisposalBin();\n    this.Db = false;\n    this.ad = false;\n    this.bd = false;\n    this.Ea = new RAFLoop(this.cd.bind(this));\n    this.Re = void 0;\n    this.Eg = void 0;\n    this.qg();\n    effect(this.rg.bind(this));\n    onDispose(this.dd.bind(this));\n  }\n  get a() {\n    return this.i.media;\n  }\n  get c() {\n    return this.b.delegate.c;\n  }\n  dd() {\n    this.ad = false;\n    this.bd = false;\n    this.Ea.sa();\n    this.ta.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  cd() {\n    const newTime = this.a.currentTime;\n    if (this.b.$state.realCurrentTime() !== newTime)\n      this.ab(newTime);\n  }\n  qg() {\n    this.u(\"loadstart\", this.Fa);\n    this.u(\"abort\", this.Qe);\n    this.u(\"emptied\", this.sg);\n    this.u(\"error\", this.V);\n    this.u(\"volumechange\", this.bb);\n  }\n  tg() {\n    if (this.ad)\n      return;\n    this.ta.add(\n      this.u(\"loadeddata\", this.ug),\n      this.u(\"loadedmetadata\", this.vg),\n      this.u(\"canplay\", this.ic),\n      this.u(\"canplaythrough\", this.wg),\n      this.u(\"durationchange\", this.xg),\n      this.u(\"play\", this.yb),\n      this.u(\"progress\", this.jc),\n      this.u(\"stalled\", this.yg),\n      this.u(\"suspend\", this.zg),\n      this.u(\"ratechange\", this.Cg)\n    );\n    this.ad = true;\n  }\n  Ag() {\n    if (this.bd)\n      return;\n    this.ta.add(\n      this.u(\"pause\", this.Ba),\n      this.u(\"playing\", this.Bg),\n      this.u(\"seeked\", this.cb),\n      this.u(\"seeking\", this.Dg),\n      this.u(\"ended\", this.Eb),\n      this.u(\"waiting\", this.ed)\n    );\n    this.bd = true;\n  }\n  u(eventType, handler) {\n    return listenEvent(\n      this.a,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  Fg(event2) {\n    return;\n  }\n  ab(time, trigger) {\n    const detail = {\n      // Avoid errors where `currentTime` can have higher precision.\n      currentTime: Math.min(time, this.b.$state.seekableEnd()),\n      played: this.a.played\n    };\n    this.c(\"time-update\", detail, trigger);\n  }\n  Fa(event2) {\n    if (this.a.networkState === 3) {\n      this.Qe(event2);\n      return;\n    }\n    this.tg();\n    this.c(\"load-start\", void 0, event2);\n  }\n  Qe(event2) {\n    this.c(\"abort\", void 0, event2);\n  }\n  sg() {\n    this.c(\"emptied\", void 0, event);\n  }\n  ug(event2) {\n    this.c(\"loaded-data\", void 0, event2);\n  }\n  vg(event2) {\n    this.Ag();\n    this.c(\"loaded-metadata\", void 0, event2);\n    if (IS_SAFARI && isHLSSrc(this.b.$state.source())) {\n      this.b.delegate.kc(this.fd(), event2);\n    }\n  }\n  fd() {\n    return {\n      provider: peek(this.b.$provider),\n      duration: this.a.duration,\n      buffered: this.a.buffered,\n      seekable: this.a.seekable\n    };\n  }\n  yb(event2) {\n    if (!this.b.$state.canPlay)\n      return;\n    this.c(\"play\", void 0, event2);\n  }\n  Ba(event2) {\n    if (this.a.readyState === 1 && !this.Db)\n      return;\n    this.Db = false;\n    this.Ea.sa();\n    this.c(\"pause\", void 0, event2);\n  }\n  ic(event2) {\n    this.b.delegate.kc(this.fd(), event2);\n  }\n  wg(event2) {\n    if (this.b.$state.started())\n      return;\n    this.c(\"can-play-through\", this.fd(), event2);\n  }\n  Bg(event2) {\n    this.Db = false;\n    this.c(\"playing\", void 0, event2);\n    this.Ea.Cb();\n  }\n  yg(event2) {\n    this.c(\"stalled\", void 0, event2);\n    if (this.a.readyState < 3) {\n      this.Db = true;\n      this.c(\"waiting\", void 0, event2);\n    }\n  }\n  ed(event2) {\n    if (this.a.readyState < 3) {\n      this.Db = true;\n      this.c(\"waiting\", void 0, event2);\n    }\n  }\n  Eb(event2) {\n    this.Ea.sa();\n    this.ab(this.a.duration, event2);\n    this.c(\"end\", void 0, event2);\n    if (this.b.$state.loop()) {\n      const hasCustomControls = isNil(this.a.controls);\n      if (hasCustomControls)\n        this.a.controls = false;\n    }\n  }\n  rg() {\n    if (this.b.$state.paused()) {\n      listenEvent(this.a, \"timeupdate\", this.Fb.bind(this));\n    }\n  }\n  Fb(event2) {\n    this.ab(this.a.currentTime, event2);\n  }\n  xg(event2) {\n    if (this.b.$state.ended()) {\n      this.ab(this.a.duration, event2);\n    }\n    this.c(\"duration-change\", this.a.duration, event2);\n  }\n  bb(event2) {\n    const detail = {\n      volume: this.a.volume,\n      muted: this.a.muted\n    };\n    this.c(\"volume-change\", detail, event2);\n  }\n  cb(event2) {\n    this.ab(this.a.currentTime, event2);\n    this.c(\"seeked\", this.a.currentTime, event2);\n    if (Math.trunc(this.a.currentTime) === Math.trunc(this.a.duration) && getNumberOfDecimalPlaces(this.a.duration) > getNumberOfDecimalPlaces(this.a.currentTime)) {\n      this.ab(this.a.duration, event2);\n      if (!this.a.ended) {\n        this.b.player.dispatch(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  Dg(event2) {\n    this.c(\"seeking\", this.a.currentTime, event2);\n  }\n  jc(event2) {\n    const detail = {\n      buffered: this.a.buffered,\n      seekable: this.a.seekable\n    };\n    this.c(\"progress\", detail, event2);\n  }\n  zg(event2) {\n    this.c(\"suspend\", void 0, event2);\n  }\n  Cg(event2) {\n    this.c(\"rate-change\", this.a.playbackRate, event2);\n  }\n  V(event2) {\n    const error = this.a.error;\n    if (!error)\n      return;\n    const detail = {\n      message: error.message,\n      code: error.code,\n      mediaError: error\n    };\n    this.c(\"error\", detail, event2);\n  }\n}\n\nclass NativeAudioTracks {\n  constructor(_provider, _ctx) {\n    this.i = _provider;\n    this.b = _ctx;\n    this.Gb.onaddtrack = this.Gg.bind(this);\n    this.Gb.onremovetrack = this.Hg.bind(this);\n    this.Gb.onchange = this.Ig.bind(this);\n    listenEvent(this.b.audioTracks, \"change\", this.Jg.bind(this));\n  }\n  get Gb() {\n    return this.i.media.audioTracks;\n  }\n  Gg(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const audioTrack = {\n      id: _track.id.toString(),\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.b.audioTracks[ListSymbol.pa](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  Hg(event) {\n    const track = this.b.audioTracks.getById(event.track.id);\n    if (track)\n      this.b.audioTracks[ListSymbol.Zb](track, event);\n  }\n  Ig(event) {\n    let enabledTrack = this.Se();\n    if (!enabledTrack)\n      return;\n    const track = this.b.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.b.audioTracks[ListSymbol.qa](track, true, event);\n  }\n  Se() {\n    return Array.from(this.Gb).find((track) => track.enabled);\n  }\n  Jg(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.Gb.getTrackById(current.id);\n    if (track) {\n      const prev = this.Se();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nclass HTMLMediaProvider {\n  constructor(_media, _ctx) {\n    this.a = _media;\n    this.b = _ctx;\n    this.scope = createScope();\n    this.W = null;\n  }\n  setup() {\n    new HTMLMediaEvents(this, this.b);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, this.b);\n    onDispose(() => {\n      this.a.setAttribute(\"src\", \"\");\n      this.a.load();\n    });\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.a;\n  }\n  get currentSrc() {\n    return this.W;\n  }\n  setPlaybackRate(rate) {\n    this.a.playbackRate = rate;\n  }\n  async play() {\n    return this.a.play();\n  }\n  async pause() {\n    return this.a.pause();\n  }\n  setMuted(muted) {\n    this.a.muted = muted;\n  }\n  setVolume(volume) {\n    this.a.volume = volume;\n  }\n  setCurrentTime(time) {\n    this.a.currentTime = time;\n  }\n  setPlaysInline(inline) {\n    setAttribute(this.a, \"playsinline\", inline);\n  }\n  async loadSource({ src, type }, preload) {\n    this.a.preload = preload || \"\";\n    if (isMediaStream(src)) {\n      this.a.srcObject = src;\n    } else {\n      this.a.srcObject = null;\n      this.a.src = isString(src) ? this.nl(src) : window.URL.createObjectURL(src);\n    }\n    this.a.load();\n    this.W = {\n      src,\n      type\n    };\n  }\n  nl(src) {\n    const { clipStartTime, clipEndTime } = this.b.$state, startTime = clipStartTime(), endTime = clipEndTime();\n    if (startTime > 0 && endTime > 0) {\n      return `${src}#t=${startTime},${endTime}`;\n    } else if (startTime > 0) {\n      return `${src}#t=${startTime}`;\n    } else if (endTime > 0) {\n      return `${src}#t=0,${endTime}`;\n    }\n    return src;\n  }\n}\n\nexport { HTMLMediaProvider as H };\n","\"use client\"\n\nimport { p as peek, l as listenEvent, g as effect, D as DOMEvent, j as isString, q as camelToKebabCase, i as isUndefined, r as isFunction, t as setAttribute } from './vidstack-BNPvxaQh.js';\nimport { Q as QualitySymbol, b as TextTrack, i as TextTrackSymbol, L as ListSymbol, d as IS_CHROME, g as coerceToError, h as loadScript, p as preconnect, j as isHLSSupported } from './vidstack-BRXztYRL.js';\nimport { VideoProvider } from './vidstack-oV0lmLfU.js';\nimport { R as RAFLoop } from './vidstack-BT-_8QDd.js';\nimport 'react';\nimport './vidstack-BiHj5l-7.js';\n\nconst toDOMEventType = (type) => camelToKebabCase(type);\nclass HLSController {\n  constructor(_video, _ctx) {\n    this.m = _video;\n    this.b = _ctx;\n    this.g = null;\n    this.od = null;\n    this.pd = {};\n    this.qd = /* @__PURE__ */ new Set();\n    this.Lk = -1;\n  }\n  get instance() {\n    return this.g;\n  }\n  setup(ctor) {\n    const { streamType } = this.b.$state;\n    const isLive = peek(streamType).includes(\"live\"), isLiveLowLatency = peek(streamType).includes(\"ll-\");\n    this.g = new ctor({\n      lowLatencyMode: isLiveLowLatency,\n      backBufferLength: isLiveLowLatency ? 4 : isLive ? 8 : void 0,\n      renderTextTracksNatively: false,\n      ...this.pd\n    });\n    const dispatcher = this.Tg.bind(this);\n    for (const event of Object.values(ctor.Events))\n      this.g.on(event, dispatcher);\n    this.g.on(ctor.Events.ERROR, this.V.bind(this));\n    for (const callback of this.qd)\n      callback(this.g);\n    this.b.player.dispatch(\"hls-instance\", {\n      detail: this.g\n    });\n    this.g.attachMedia(this.m);\n    this.g.on(ctor.Events.FRAG_LOADING, this.Pk.bind(this));\n    this.g.on(ctor.Events.AUDIO_TRACK_SWITCHED, this.Ug.bind(this));\n    this.g.on(ctor.Events.LEVEL_SWITCHED, this.Vg.bind(this));\n    this.g.on(ctor.Events.LEVEL_LOADED, this.Wg.bind(this));\n    this.g.on(ctor.Events.NON_NATIVE_TEXT_TRACKS_FOUND, this.Xg.bind(this));\n    this.g.on(ctor.Events.CUES_PARSED, this.Yg.bind(this));\n    this.b.qualities[QualitySymbol._a] = this.Zg.bind(this);\n    listenEvent(this.b.qualities, \"change\", this.gb.bind(this));\n    listenEvent(this.b.audioTracks, \"change\", this._g.bind(this));\n    this.od = effect(this.$g.bind(this));\n  }\n  $g() {\n    if (!this.b.$state.live())\n      return;\n    const raf = new RAFLoop(this.ah.bind(this));\n    raf.Cb();\n    return raf.sa.bind(raf);\n  }\n  ah() {\n    this.b.$state.liveSyncPosition.set(this.g?.liveSyncPosition ?? Infinity);\n  }\n  Tg(eventType, detail) {\n    this.b.player?.dispatch(new DOMEvent(toDOMEventType(eventType), { detail }));\n  }\n  Xg(eventType, data) {\n    const event = new DOMEvent(eventType, { detail: data });\n    let currentTrack = -1;\n    for (let i = 0; i < data.tracks.length; i++) {\n      const nonNativeTrack = data.tracks[i], init = nonNativeTrack.subtitleTrack ?? nonNativeTrack.closedCaptions, track = new TextTrack({\n        id: `hls-${nonNativeTrack.kind}${i}`,\n        src: init?.url,\n        label: nonNativeTrack.label,\n        language: init?.lang,\n        kind: nonNativeTrack.kind,\n        default: nonNativeTrack.default\n      });\n      track[TextTrackSymbol.N] = 2;\n      track[TextTrackSymbol.Va] = () => {\n        if (track.mode === \"showing\") {\n          this.g.subtitleTrack = i;\n          currentTrack = i;\n        } else if (currentTrack === i) {\n          this.g.subtitleTrack = -1;\n          currentTrack = -1;\n        }\n      };\n      this.b.textTracks.add(track, event);\n    }\n  }\n  Yg(eventType, data) {\n    const track = this.b.textTracks.getById(`hls-${data.track}`);\n    if (!track)\n      return;\n    const event = new DOMEvent(eventType, { detail: data });\n    for (const cue of data.cues) {\n      cue.positionAlign = \"auto\";\n      track.addCue(cue, event);\n    }\n  }\n  Ug(eventType, data) {\n    const track = this.b.audioTracks[data.id];\n    if (track) {\n      const trigger = new DOMEvent(eventType, { detail: data });\n      this.b.audioTracks[ListSymbol.qa](track, true, trigger);\n    }\n  }\n  Vg(eventType, data) {\n    const quality = this.b.qualities[data.level];\n    if (quality) {\n      const trigger = new DOMEvent(eventType, { detail: data });\n      this.b.qualities[ListSymbol.qa](quality, true, trigger);\n    }\n  }\n  Wg(eventType, data) {\n    if (this.b.$state.canPlay())\n      return;\n    const { type, live, totalduration: duration, targetduration } = data.details, trigger = new DOMEvent(eventType, { detail: data });\n    this.b.delegate.c(\n      \"stream-type-change\",\n      live ? type === \"EVENT\" && Number.isFinite(duration) && targetduration >= 10 ? \"live:dvr\" : \"live\" : \"on-demand\",\n      trigger\n    );\n    this.b.delegate.c(\"duration-change\", duration, trigger);\n    const media = this.g.media;\n    if (this.g.currentLevel === -1) {\n      this.b.qualities[QualitySymbol.Za](true, trigger);\n    }\n    for (const remoteTrack of this.g.audioTracks) {\n      const localTrack = {\n        id: remoteTrack.id.toString(),\n        label: remoteTrack.name,\n        language: remoteTrack.lang || \"\",\n        kind: \"main\"\n      };\n      this.b.audioTracks[ListSymbol.pa](localTrack, trigger);\n    }\n    for (const level of this.g.levels) {\n      const videoQuality = {\n        id: level.id?.toString() ?? level.height + \"p\",\n        width: level.width,\n        height: level.height,\n        codec: level.codecSet,\n        bitrate: level.bitrate\n      };\n      this.b.qualities[ListSymbol.pa](videoQuality, trigger);\n    }\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger }));\n  }\n  V(eventType, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case \"networkError\":\n          this.Qk(data.error);\n          break;\n        case \"mediaError\":\n          this.g?.recoverMediaError();\n          break;\n        default:\n          this.Ok(data.error);\n          break;\n      }\n    }\n  }\n  Pk() {\n    if (this.Lk >= 0)\n      this.Mk();\n  }\n  Qk(error) {\n    this.Mk();\n    this.g?.startLoad();\n    this.Lk = window.setTimeout(() => {\n      this.Lk = -1;\n      this.Ok(error);\n    }, 5e3);\n  }\n  Mk() {\n    clearTimeout(this.Lk);\n    this.Lk = -1;\n  }\n  Ok(error) {\n    this.g?.destroy();\n    this.g = null;\n    this.b.delegate.c(\"error\", {\n      message: error.message,\n      code: 1,\n      error\n    });\n  }\n  Zg() {\n    if (this.g)\n      this.g.currentLevel = -1;\n  }\n  gb() {\n    const { qualities } = this.b;\n    if (!this.g || qualities.auto)\n      return;\n    this.g[qualities.switch + \"Level\"] = qualities.selectedIndex;\n    if (IS_CHROME)\n      this.m.currentTime = this.m.currentTime;\n  }\n  _g() {\n    const { audioTracks } = this.b;\n    if (this.g && this.g.audioTrack !== audioTracks.selectedIndex) {\n      this.g.audioTrack = audioTracks.selectedIndex;\n    }\n  }\n  Rk(src) {\n    if (!isString(src.src))\n      return;\n    this.Mk();\n    this.g?.loadSource(src.src);\n  }\n  bh() {\n    this.Mk();\n    if (this.b)\n      this.b.qualities[QualitySymbol._a] = void 0;\n    this.g?.destroy();\n    this.g = null;\n    this.od?.();\n    this.od = null;\n  }\n}\n\nclass HLSLibLoader {\n  constructor(_lib, _ctx, _callback) {\n    this.X = _lib;\n    this.b = _ctx;\n    this.Da = _callback;\n    this.ch();\n  }\n  async ch() {\n    const callbacks = {\n      onLoadStart: this.Fa.bind(this),\n      onLoaded: this.rd.bind(this),\n      onLoadError: this.dh.bind(this)\n    };\n    let ctor = await loadHLSScript(this.X, callbacks);\n    if (isUndefined(ctor) && !isString(this.X))\n      ctor = await importHLS(this.X, callbacks);\n    if (!ctor)\n      return null;\n    if (!ctor.isSupported()) {\n      const message = \"[vidstack] `hls.js` is not supported in this environment\";\n      this.b.player.dispatch(new DOMEvent(\"hls-unsupported\"));\n      this.b.delegate.c(\"error\", { message, code: 4 });\n      return null;\n    }\n    return ctor;\n  }\n  Fa() {\n    this.b.player.dispatch(new DOMEvent(\"hls-lib-load-start\"));\n  }\n  rd(ctor) {\n    this.b.player.dispatch(\n      new DOMEvent(\"hls-lib-loaded\", {\n        detail: ctor\n      })\n    );\n    this.Da(ctor);\n  }\n  dh(e) {\n    const error = coerceToError(e);\n    this.b.player.dispatch(\n      new DOMEvent(\"hls-lib-load-error\", {\n        detail: error\n      })\n    );\n    this.b.delegate.c(\"error\", {\n      message: error.message,\n      code: 4,\n      error\n    });\n  }\n}\nasync function importHLS(loader, callbacks = {}) {\n  if (isUndefined(loader))\n    return void 0;\n  callbacks.onLoadStart?.();\n  if (loader.prototype && loader.prototype !== Function) {\n    callbacks.onLoaded?.(loader);\n    return loader;\n  }\n  try {\n    const ctor = (await loader())?.default;\n    if (ctor && !!ctor.isSupported) {\n      callbacks.onLoaded?.(ctor);\n    } else {\n      throw Error(\n        false ? \"[vidstack] failed importing `hls.js`. Dynamic import returned invalid constructor.\" : \"\"\n      );\n    }\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\nasync function loadHLSScript(src, callbacks = {}) {\n  if (!isString(src))\n    return void 0;\n  callbacks.onLoadStart?.();\n  try {\n    await loadScript(src);\n    if (!isFunction(window.Hls)) {\n      throw Error(\n        false ? \"[vidstack] failed loading `hls.js`. Could not find a valid `Hls` constructor on window\" : \"\"\n      );\n    }\n    const ctor = window.Hls;\n    callbacks.onLoaded?.(ctor);\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\n\nconst JS_DELIVR_CDN = \"https://cdn.jsdelivr.net\";\nclass HLSProvider extends VideoProvider {\n  constructor() {\n    super(...arguments);\n    this.$$PROVIDER_TYPE = \"HLS\";\n    this.Ye = null;\n    this.d = new HLSController(this.video, this.b);\n    this.Hb = `${JS_DELIVR_CDN}/npm/hls.js@^1.5.0/dist/hls${\".min.js\"}`;\n  }\n  /**\n   * The `hls.js` constructor.\n   */\n  get ctor() {\n    return this.Ye;\n  }\n  /**\n   * The current `hls.js` instance.\n   */\n  get instance() {\n    return this.d.instance;\n  }\n  get type() {\n    return \"hls\";\n  }\n  get canLiveSync() {\n    return true;\n  }\n  /**\n   * The `hls.js` configuration object.\n   *\n   * @see {@link https://github.com/video-dev/hls.js/blob/master/docs/API.md#fine-tuning}\n   */\n  get config() {\n    return this.d.pd;\n  }\n  set config(config) {\n    this.d.pd = config;\n  }\n  /**\n   * The `hls.js` constructor (supports dynamic imports) or a URL of where it can be found.\n   *\n   * @defaultValue `https://cdn.jsdelivr.net/npm/hls.js@^1.0.0/dist/hls.min.js`\n   */\n  get library() {\n    return this.Hb;\n  }\n  set library(library) {\n    this.Hb = library;\n  }\n  preconnect() {\n    if (!isString(this.Hb))\n      return;\n    preconnect(this.Hb);\n  }\n  setup() {\n    super.setup();\n    new HLSLibLoader(this.Hb, this.b, (ctor) => {\n      this.Ye = ctor;\n      this.d.setup(ctor);\n      this.b.delegate.c(\"provider-setup\", this);\n      const src = peek(this.b.$state.source);\n      if (src)\n        this.loadSource(src);\n    });\n  }\n  async loadSource(src, preload) {\n    if (!isString(src.src))\n      return;\n    this.a.preload = preload || \"\";\n    this.Ym(src);\n    this.d.Rk(src);\n    this.W = src;\n  }\n  /**\n   * Append source so it works when requesting AirPlay since hls.js will remove it.\n   */\n  Ym(src) {\n    const prevSource = this.video.querySelector(\"source[data-vds]\"), source = prevSource ?? document.createElement(\"source\");\n    setAttribute(source, \"src\", src.src);\n    setAttribute(source, \"type\", \"application/x-mpegurl\");\n    setAttribute(source, \"data-vds\", \"\");\n    if (!prevSource)\n      this.video.append(source);\n  }\n  /**\n   * The given callback is invoked when a new `hls.js` instance is created and right before it's\n   * attached to media.\n   */\n  onInstance(callback) {\n    const instance = this.d.instance;\n    if (instance)\n      callback(instance);\n    this.d.qd.add(callback);\n    return () => this.d.qd.delete(callback);\n  }\n  destroy() {\n    this.d.bh();\n  }\n}\n/**\n * Whether `hls.js` is supported in this environment.\n */\nHLSProvider.supported = isHLSSupported();\n\nexport { HLSProvider };\n","\"use client\"\n\nimport { w as onDispose, l as listenEvent, D as DOMEvent, s as signal, g as effect, G as scoped } from './vidstack-BNPvxaQh.js';\nimport { b as TextTrack, i as TextTrackSymbol, w as canUsePictureInPicture, x as canUseVideoPresentation, I as IS_SERVER, y as canPlayHLSNatively } from './vidstack-BRXztYRL.js';\nimport { H as HTMLMediaProvider } from './vidstack-BiHj5l-7.js';\nimport 'react';\nimport './vidstack-BT-_8QDd.js';\n\nclass NativeHLSTextTracks {\n  constructor(_video, _ctx) {\n    this.m = _video;\n    this.b = _ctx;\n    _video.textTracks.onaddtrack = this.Xc.bind(this);\n    onDispose(this.dd.bind(this));\n  }\n  Xc(event) {\n    const nativeTrack = event.track;\n    if (!nativeTrack || findTextTrackElement(this.m, nativeTrack))\n      return;\n    const track = new TextTrack({\n      id: nativeTrack.id,\n      kind: nativeTrack.kind,\n      label: nativeTrack.label,\n      language: nativeTrack.language,\n      type: \"vtt\"\n    });\n    track[TextTrackSymbol.U] = { track: nativeTrack };\n    track[TextTrackSymbol.N] = 2;\n    track[TextTrackSymbol.ue] = true;\n    let lastIndex = 0;\n    const onCueChange = (event2) => {\n      if (!nativeTrack.cues)\n        return;\n      for (let i = lastIndex; i < nativeTrack.cues.length; i++) {\n        track.addCue(nativeTrack.cues[i], event2);\n        lastIndex++;\n      }\n    };\n    onCueChange(event);\n    nativeTrack.oncuechange = onCueChange;\n    this.b.textTracks.add(track, event);\n    track.setMode(nativeTrack.mode, event);\n  }\n  dd() {\n    this.m.textTracks.onaddtrack = null;\n    for (const track of this.b.textTracks) {\n      const nativeTrack = track[TextTrackSymbol.U]?.track;\n      if (nativeTrack?.oncuechange)\n        nativeTrack.oncuechange = null;\n    }\n  }\n}\nfunction findTextTrackElement(video, track) {\n  return Array.from(video.children).find((el) => el.track === track);\n}\n\nclass VideoPictureInPicture {\n  constructor(_video, _media) {\n    this.m = _video;\n    this.a = _media;\n    this.C = (active, event) => {\n      this.a.delegate.c(\"picture-in-picture-change\", active, event);\n    };\n    listenEvent(this.m, \"enterpictureinpicture\", this.Kg.bind(this));\n    listenEvent(this.m, \"leavepictureinpicture\", this.Lg.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this.m;\n  }\n  get supported() {\n    return canUsePictureInPicture(this.m);\n  }\n  async enter() {\n    return this.m.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  Kg(event) {\n    this.C(true, event);\n  }\n  Lg(event) {\n    this.C(false, event);\n  }\n}\n\nclass VideoPresentation {\n  constructor(_video, _media) {\n    this.m = _video;\n    this.a = _media;\n    this.J = \"inline\";\n    listenEvent(this.m, \"webkitpresentationmodechanged\", this.Va.bind(this));\n  }\n  get Te() {\n    return canUseVideoPresentation(this.m);\n  }\n  async lc(mode) {\n    if (this.J === mode)\n      return;\n    this.m.webkitSetPresentationMode(mode);\n  }\n  Va(event) {\n    const prevMode = this.J;\n    this.J = this.m.webkitPresentationMode;\n    this.a.player?.dispatch(\n      new DOMEvent(\"video-presentation-change\", {\n        detail: this.J,\n        trigger: event\n      })\n    );\n    [\"fullscreen\", \"picture-in-picture\"].forEach((type) => {\n      if (this.J === type || prevMode === type) {\n        this.a.delegate.c(`${type}-change`, this.J === type, event);\n      }\n    });\n  }\n}\nclass FullscreenPresentationAdapter {\n  constructor(_presentation) {\n    this.ga = _presentation;\n  }\n  get active() {\n    return this.ga.J === \"fullscreen\";\n  }\n  get supported() {\n    return this.ga.Te;\n  }\n  async enter() {\n    this.ga.lc(\"fullscreen\");\n  }\n  async exit() {\n    this.ga.lc(\"inline\");\n  }\n}\nclass PIPPresentationAdapter {\n  constructor(_presentation) {\n    this.ga = _presentation;\n  }\n  get active() {\n    return this.ga.J === \"picture-in-picture\";\n  }\n  get supported() {\n    return this.ga.Te;\n  }\n  async enter() {\n    this.ga.lc(\"picture-in-picture\");\n  }\n  async exit() {\n    this.ga.lc(\"inline\");\n  }\n}\n\nclass VideoRemotePlaybackAdapter {\n  constructor(_video, _ctx) {\n    this.m = _video;\n    this.b = _ctx;\n    this.Te = signal(false);\n    this.mk();\n  }\n  get supported() {\n    return this.Te();\n  }\n  mk() {\n    if (IS_SERVER || !this.m.remote || !this.Pl)\n      return;\n    this.m.remote.watchAvailability((available) => {\n      this.Te.set(available);\n    }).catch(() => {\n      this.Te.set(false);\n    });\n    effect(this.Sm.bind(this));\n  }\n  Sm() {\n    if (!this.Te())\n      return;\n    const events = [\"connecting\", \"connect\", \"disconnect\"], onStateChange = this.Sg.bind(this);\n    onStateChange();\n    listenEvent(this.m, \"playing\", onStateChange);\n    for (const type of events) {\n      listenEvent(this.m.remote, type, onStateChange);\n    }\n  }\n  async prompt() {\n    if (!this.supported)\n      throw Error(\"Not supported on this platform.\");\n    if (this.wb === \"airplay\" && this.m.webkitShowPlaybackTargetPicker) {\n      return this.m.webkitShowPlaybackTargetPicker();\n    }\n    return this.m.remote.prompt();\n  }\n  Sg(event) {\n    const state = this.m.remote.state;\n    if (state === this.nc)\n      return;\n    const detail = { type: this.wb, state };\n    this.b.delegate.c(\"remote-playback-change\", detail, event);\n    this.nc = state;\n  }\n}\nclass VideoAirPlayAdapter extends VideoRemotePlaybackAdapter {\n  constructor() {\n    super(...arguments);\n    this.wb = \"airplay\";\n  }\n  get Pl() {\n    return \"WebKitPlaybackTargetAvailabilityEvent\" in window;\n  }\n}\n\nclass VideoProvider extends HTMLMediaProvider {\n  constructor(video, ctx) {\n    super(video, ctx);\n    this.$$PROVIDER_TYPE = \"VIDEO\";\n    scoped(() => {\n      this.airPlay = new VideoAirPlayAdapter(video, ctx);\n      if (canUseVideoPresentation(video)) {\n        const presentation = new VideoPresentation(video, ctx);\n        this.fullscreen = new FullscreenPresentationAdapter(presentation);\n        this.pictureInPicture = new PIPPresentationAdapter(presentation);\n      } else if (canUsePictureInPicture(video)) {\n        this.pictureInPicture = new VideoPictureInPicture(video, ctx);\n      }\n    }, this.scope);\n  }\n  get type() {\n    return \"video\";\n  }\n  setup() {\n    super.setup();\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, this.b);\n    }\n    this.b.textRenderers.Ge(this.video);\n    onDispose(() => {\n      this.b.textRenderers.Ge(null);\n    });\n    if (this.type === \"video\")\n      this.b.delegate.c(\"provider-setup\", this);\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this.a;\n  }\n}\n\nexport { VideoProvider };\n"],"names":["RAFLoop","constructor","_callback","this","Da","Cb","isUndefined","da","Pe","sa","isNumber","window","cancelAnimationFrame","requestAnimationFrame","HTMLMediaEvents","_provider","_ctx","i","b","ta","useDisposalBin","Db","ad","bd","Ea","cd","bind","Re","Eg","qg","effect","rg","onDispose","dd","a","media","c","delegate","empty","newTime","currentTime","$state","realCurrentTime","ab","u","Fa","Qe","sg","V","bb","tg","add","ug","vg","ic","wg","xg","yb","jc","yg","zg","Cg","Ag","Ba","Bg","cb","Dg","Eb","ed","eventType","handler","listenEvent","Fg","event2","time","trigger","detail","Math","min","seekableEnd","played","networkState","event","IS_SAFARI","isHLSSrc","source","kc","fd","provider","peek","$provider","duration","buffered","seekable","canPlay","readyState","started","loop","isNil","controls","paused","Fb","ended","volume","muted","trunc","getNumberOfDecimalPlaces","player","dispatch","DOMEvent","playbackRate","error","message","code","mediaError","NativeAudioTracks","Gb","onaddtrack","Gg","onremovetrack","Hg","onchange","Ig","audioTracks","Jg","_track","track","label","audioTrack","id","toString","language","kind","selected","ListSymbol","pa","enabled","getById","Zb","enabledTrack","Se","qa","Array","from","find","current","getTrackById","prev","HTMLMediaProvider","_media","scope","createScope","W","setup","setAttribute","load","type","currentSrc","setPlaybackRate","rate","play","pause","setMuted","setVolume","setCurrentTime","setPlaysInline","inline","loadSource","_ref","preload","src","isMediaStream","srcObject","isString","nl","URL","createObjectURL","clipStartTime","clipEndTime","startTime","endTime","concat","HLSController","_video","m","g","od","pd","qd","Set","Lk","instance","ctor","streamType","isLive","includes","isLiveLowLatency","lowLatencyMode","backBufferLength","renderTextTracksNatively","dispatcher","Tg","Object","values","Events","on","ERROR","callback","attachMedia","FRAG_LOADING","Pk","AUDIO_TRACK_SWITCHED","Ug","LEVEL_SWITCHED","Vg","LEVEL_LOADED","Wg","NON_NATIVE_TEXT_TRACKS_FOUND","Xg","CUES_PARSED","Yg","qualities","QualitySymbol","_a","Zg","gb","_g","$g","live","raf","ah","_this$g$liveSyncPosit","_this$g","liveSyncPosition","set","Infinity","_this$b$player","camelToKebabCase","data","currentTrack","tracks","length","_nonNativeTrack$subti","nonNativeTrack","init","subtitleTrack","closedCaptions","TextTrack","url","lang","default","TextTrackSymbol","N","Va","mode","textTracks","cue","cues","positionAlign","addCue","quality","level","totalduration","targetduration","details","Number","isFinite","currentLevel","Za","remoteTrack","localTrack","name","levels","_level$id$toString","_level$id","videoQuality","height","width","codec","codecSet","bitrate","dispatchEvent","_this$g2","fatal","Qk","recoverMediaError","Ok","Mk","_this$g3","startLoad","setTimeout","clearTimeout","_this$g4","destroy","auto","switch","selectedIndex","IS_CHROME","Rk","_this$g5","bh","_this$g6","_this$od","call","HLSLibLoader","_lib","X","ch","callbacks","onLoadStart","onLoaded","rd","onLoadError","dh","async","_callbacks$onLoadStar2","arguments","undefined","_callbacks$onLoaded3","loadScript","isFunction","Hls","Error","err","_callbacks$onLoadErro2","loadHLSScript","loader","_callbacks$onLoadStar","prototype","Function","_callbacks$onLoaded","_await$loader","isSupported","_callbacks$onLoaded2","_callbacks$onLoadErro","importHLS","e","coerceToError","HLSProvider","VideoProvider","super","$$PROVIDER_TYPE","Ye","d","video","Hb","canLiveSync","config","library","preconnect","Ym","prevSource","querySelector","document","createElement","append","onInstance","delete","supported","isHLSSupported","NativeHLSTextTracks","Xc","nativeTrack","children","el","findTextTrackElement","U","ue","lastIndex","onCueChange","oncuechange","setMode","_track$TextTrackSymbo","VideoPictureInPicture","C","active","Kg","Lg","pictureInPictureElement","canUsePictureInPicture","enter","requestPictureInPicture","exit","exitPictureInPicture","VideoPresentation","J","Te","canUseVideoPresentation","lc","webkitSetPresentationMode","_this$a$player","prevMode","webkitPresentationMode","forEach","FullscreenPresentationAdapter","_presentation","ga","PIPPresentationAdapter","VideoRemotePlaybackAdapter","signal","mk","IS_SERVER","remote","Pl","watchAvailability","available","catch","Sm","events","onStateChange","Sg","prompt","wb","webkitShowPlaybackTargetPicker","state","nc","VideoAirPlayAdapter","ctx","scoped","airPlay","presentation","fullscreen","pictureInPicture","canPlayHLSNatively","textRenderers","Ge"],"sourceRoot":""}