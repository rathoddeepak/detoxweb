"use strict";(self.webpackChunkdetoxweb=self.webpackChunkdetoxweb||[]).push([[953],{1933:(t,i,s)=>{s.d(i,{R:()=>a});var e=s(5684);class a{constructor(t){this.Da=t}Cb(){(0,e.i)(this.da)&&this.Pe()}sa(){(0,e.c)(this.da)&&window.cancelAnimationFrame(this.da),this.da=void 0}Pe(){this.da=window.requestAnimationFrame((()=>{(0,e.i)(this.da)||(this.Da(),this.Pe())}))}}},466:(t,i,s)=>{s.d(i,{H:()=>c});var e=s(5684),a=s(7707),h=s(1933);class r{constructor(t,i){this.i=t,this.b=i,this.ta=(0,e.v)(),this.Db=!1,this.ad=!1,this.bd=!1,this.Ea=new h.R(this.cd.bind(this)),this.Re=void 0,this.Eg=void 0,this.qg(),(0,e.g)(this.rg.bind(this)),(0,e.w)(this.dd.bind(this))}get a(){return this.i.media}get c(){return this.b.delegate.c}dd(){this.ad=!1,this.bd=!1,this.Ea.sa(),this.ta.empty()}cd(){const t=this.a.currentTime;this.b.$state.realCurrentTime()!==t&&this.ab(t)}qg(){this.u("loadstart",this.Fa),this.u("abort",this.Qe),this.u("emptied",this.sg),this.u("error",this.V),this.u("volumechange",this.bb)}tg(){this.ad||(this.ta.add(this.u("loadeddata",this.ug),this.u("loadedmetadata",this.vg),this.u("canplay",this.ic),this.u("canplaythrough",this.wg),this.u("durationchange",this.xg),this.u("play",this.yb),this.u("progress",this.jc),this.u("stalled",this.yg),this.u("suspend",this.zg),this.u("ratechange",this.Cg)),this.ad=!0)}Ag(){this.bd||(this.ta.add(this.u("pause",this.Ba),this.u("playing",this.Bg),this.u("seeked",this.cb),this.u("seeking",this.Dg),this.u("ended",this.Eb),this.u("waiting",this.ed)),this.bd=!0)}u(t,i){return(0,e.l)(this.a,t,i.bind(this))}Fg(t){}ab(t,i){const s={currentTime:Math.min(t,this.b.$state.seekableEnd()),played:this.a.played};this.c("time-update",s,i)}Fa(t){3!==this.a.networkState?(this.tg(),this.c("load-start",void 0,t)):this.Qe(t)}Qe(t){this.c("abort",void 0,t)}sg(){this.c("emptied",void 0,event)}ug(t){this.c("loaded-data",void 0,t)}vg(t){this.Ag(),this.c("loaded-metadata",void 0,t),a.k&&(0,a.m)(this.b.$state.source())&&this.b.delegate.kc(this.fd(),t)}fd(){return{provider:(0,e.p)(this.b.$provider),duration:this.a.duration,buffered:this.a.buffered,seekable:this.a.seekable}}yb(t){this.b.$state.canPlay&&this.c("play",void 0,t)}Ba(t){(1!==this.a.readyState||this.Db)&&(this.Db=!1,this.Ea.sa(),this.c("pause",void 0,t))}ic(t){this.b.delegate.kc(this.fd(),t)}wg(t){this.b.$state.started()||this.c("can-play-through",this.fd(),t)}Bg(t){this.Db=!1,this.c("playing",void 0,t),this.Ea.Cb()}yg(t){this.c("stalled",void 0,t),this.a.readyState<3&&(this.Db=!0,this.c("waiting",void 0,t))}ed(t){this.a.readyState<3&&(this.Db=!0,this.c("waiting",void 0,t))}Eb(t){if(this.Ea.sa(),this.ab(this.a.duration,t),this.c("end",void 0,t),this.b.$state.loop()){(0,e.x)(this.a.controls)&&(this.a.controls=!1)}}rg(){this.b.$state.paused()&&(0,e.l)(this.a,"timeupdate",this.Fb.bind(this))}Fb(t){this.ab(this.a.currentTime,t)}xg(t){this.b.$state.ended()&&this.ab(this.a.duration,t),this.c("duration-change",this.a.duration,t)}bb(t){const i={volume:this.a.volume,muted:this.a.muted};this.c("volume-change",i,t)}cb(t){this.ab(this.a.currentTime,t),this.c("seeked",this.a.currentTime,t),Math.trunc(this.a.currentTime)===Math.trunc(this.a.duration)&&(0,a.n)(this.a.duration)>(0,a.n)(this.a.currentTime)&&(this.ab(this.a.duration,t),this.a.ended||this.b.player.dispatch(new e.D("media-play-request",{trigger:t})))}Dg(t){this.c("seeking",this.a.currentTime,t)}jc(t){const i={buffered:this.a.buffered,seekable:this.a.seekable};this.c("progress",i,t)}zg(t){this.c("suspend",void 0,t)}Cg(t){this.c("rate-change",this.a.playbackRate,t)}V(t){const i=this.a.error;if(!i)return;const s={message:i.message,code:i.code,mediaError:i};this.c("error",s,t)}}class n{constructor(t,i){this.i=t,this.b=i,this.Gb.onaddtrack=this.Gg.bind(this),this.Gb.onremovetrack=this.Hg.bind(this),this.Gb.onchange=this.Ig.bind(this),(0,e.l)(this.b.audioTracks,"change",this.Jg.bind(this))}get Gb(){return this.i.media.audioTracks}Gg(t){const i=t.track;if(""===i.label)return;const s={id:i.id.toString(),label:i.label,language:i.language,kind:i.kind,selected:!1};this.b.audioTracks[a.L.pa](s,t),i.enabled&&(s.selected=!0)}Hg(t){const i=this.b.audioTracks.getById(t.track.id);i&&this.b.audioTracks[a.L.Zb](i,t)}Ig(t){let i=this.Se();if(!i)return;const s=this.b.audioTracks.getById(i.id);s&&this.b.audioTracks[a.L.qa](s,!0,t)}Se(){return Array.from(this.Gb).find((t=>t.enabled))}Jg(t){const{current:i}=t.detail;if(!i)return;const s=this.Gb.getTrackById(i.id);if(s){const t=this.Se();t&&(t.enabled=!1),s.enabled=!0}}}class c{constructor(t,i){this.a=t,this.b=i,this.scope=(0,e.h)(),this.W=null}setup(){new r(this,this.b),"audioTracks"in this.media&&new n(this,this.b),(0,e.w)((()=>{this.a.setAttribute("src",""),this.a.load()}))}get type(){return""}get media(){return this.a}get currentSrc(){return this.W}setPlaybackRate(t){this.a.playbackRate=t}async play(){return this.a.play()}async pause(){return this.a.pause()}setMuted(t){this.a.muted=t}setVolume(t){this.a.volume=t}setCurrentTime(t){this.a.currentTime=t}setPlaysInline(t){(0,e.t)(this.a,"playsinline",t)}async loadSource(t,i){let{src:s,type:h}=t;this.a.preload=i||"",(0,a.o)(s)?this.a.srcObject=s:(this.a.srcObject=null,this.a.src=(0,e.j)(s)?this.nl(s):window.URL.createObjectURL(s)),this.a.load(),this.W={src:s,type:h}}nl(t){const{clipStartTime:i,clipEndTime:s}=this.b.$state,e=i(),a=s();return e>0&&a>0?"".concat(t,"#t=").concat(e,",").concat(a):e>0?"".concat(t,"#t=").concat(e):a>0?"".concat(t,"#t=0,").concat(a):t}}},6953:(t,i,s)=>{s.r(i),s.d(i,{VideoProvider:()=>b});var e=s(5684),a=s(7707),h=s(466);s(5043);class r{constructor(t,i){this.m=t,this.b=i,t.textTracks.onaddtrack=this.Xc.bind(this),(0,e.w)(this.dd.bind(this))}Xc(t){const i=t.track;if(!i||function(t,i){return Array.from(t.children).find((t=>t.track===i))}(this.m,i))return;const s=new a.b({id:i.id,kind:i.kind,label:i.label,language:i.language,type:"vtt"});s[a.i.U]={track:i},s[a.i.N]=2,s[a.i.ue]=!0;let e=0;const h=t=>{if(i.cues)for(let a=e;a<i.cues.length;a++)s.addCue(i.cues[a],t),e++};h(t),i.oncuechange=h,this.b.textTracks.add(s,t),s.setMode(i.mode,t)}dd(){this.m.textTracks.onaddtrack=null;for(const i of this.b.textTracks){var t;const s=null===(t=i[a.i.U])||void 0===t?void 0:t.track;null!==s&&void 0!==s&&s.oncuechange&&(s.oncuechange=null)}}}class n{constructor(t,i){this.m=t,this.a=i,this.C=(t,i)=>{this.a.delegate.c("picture-in-picture-change",t,i)},(0,e.l)(this.m,"enterpictureinpicture",this.Kg.bind(this)),(0,e.l)(this.m,"leavepictureinpicture",this.Lg.bind(this))}get active(){return document.pictureInPictureElement===this.m}get supported(){return(0,a.w)(this.m)}async enter(){return this.m.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}Kg(t){this.C(!0,t)}Lg(t){this.C(!1,t)}}class c{constructor(t,i){this.m=t,this.a=i,this.J="inline",(0,e.l)(this.m,"webkitpresentationmodechanged",this.Va.bind(this))}get Te(){return(0,a.x)(this.m)}async lc(t){this.J!==t&&this.m.webkitSetPresentationMode(t)}Va(t){var i;const s=this.J;this.J=this.m.webkitPresentationMode,null===(i=this.a.player)||void 0===i||i.dispatch(new e.D("video-presentation-change",{detail:this.J,trigger:t})),["fullscreen","picture-in-picture"].forEach((i=>{this.J!==i&&s!==i||this.a.delegate.c("".concat(i,"-change"),this.J===i,t)}))}}class d{constructor(t){this.ga=t}get active(){return"fullscreen"===this.ga.J}get supported(){return this.ga.Te}async enter(){this.ga.lc("fullscreen")}async exit(){this.ga.lc("inline")}}class o{constructor(t){this.ga=t}get active(){return"picture-in-picture"===this.ga.J}get supported(){return this.ga.Te}async enter(){this.ga.lc("picture-in-picture")}async exit(){this.ga.lc("inline")}}class u{constructor(t,i){this.m=t,this.b=i,this.Te=(0,e.s)(!1),this.mk()}get supported(){return this.Te()}mk(){!a.I&&this.m.remote&&this.Pl&&(this.m.remote.watchAvailability((t=>{this.Te.set(t)})).catch((()=>{this.Te.set(!1)})),(0,e.g)(this.Sm.bind(this)))}Sm(){if(!this.Te())return;const t=["connecting","connect","disconnect"],i=this.Sg.bind(this);i(),(0,e.l)(this.m,"playing",i);for(const s of t)(0,e.l)(this.m.remote,s,i)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.wb&&this.m.webkitShowPlaybackTargetPicker?this.m.webkitShowPlaybackTargetPicker():this.m.remote.prompt()}Sg(t){const i=this.m.remote.state;if(i===this.nc)return;const s={type:this.wb,state:i};this.b.delegate.c("remote-playback-change",s,t),this.nc=i}}class l extends u{constructor(){super(...arguments),this.wb="airplay"}get Pl(){return"WebKitPlaybackTargetAvailabilityEvent"in window}}class b extends h.H{constructor(t,i){super(t,i),this.$$PROVIDER_TYPE="VIDEO",(0,e.G)((()=>{if(this.airPlay=new l(t,i),(0,a.x)(t)){const s=new c(t,i);this.fullscreen=new d(s),this.pictureInPicture=new o(s)}else(0,a.w)(t)&&(this.pictureInPicture=new n(t,i))}),this.scope)}get type(){return"video"}setup(){super.setup(),(0,a.y)(this.video)&&new r(this.video,this.b),this.b.textRenderers.Ge(this.video),(0,e.w)((()=>{this.b.textRenderers.Ge(null)})),"video"===this.type&&this.b.delegate.c("provider-setup",this)}get video(){return this.a}}}}]);
//# sourceMappingURL=953.08ded252.chunk.js.map