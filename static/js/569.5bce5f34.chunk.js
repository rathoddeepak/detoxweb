"use strict";(self.webpackChunkdetoxweb=self.webpackChunkdetoxweb||[]).push([[569],{9569:(e,t,a)=>{a.r(t),a.d(t,{a:()=>s,b:()=>i,c:()=>d,d:()=>g,g:()=>c,h:()=>l,l:()=>u});var o=a(7707),r=a(5684);function n(){return s().getCastState()===cast.framework.CastState.CONNECTED}function s(){return window.cast.framework.CastContext.getInstance()}function i(){return s().getCurrentSession()}function c(){var e;return null===(e=i())||void 0===e?void 0:e.getSessionObj().media[0]}function l(e){var t;return(null===(t=c())||void 0===t?void 0:t.media.contentId)===(null===e||void 0===e?void 0:e.src)}function d(e){return"Google Cast Error Code: ".concat(e)}function u(e,t){return(0,o.l)(s(),e,t)}var g=Object.freeze({__proto__:null,GoogleCastLoader:class{constructor(){this.name="google-cast"}get cast(){return s()}mediaType(){return"video"}canPlay(e){return o.d&&!o.e&&(0,o.f)(e)}async prompt(e){let t;try{var a;const o=await this.wm(e);this.ba||(this.ba=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this.ba)),t=e.player.createEvent("google-cast-prompt-open",{trigger:o}),e.player.dispatchEvent(t),this.Nl(e,"connecting",t),await this.xm((0,r.p)(e.$props.googleCast)),e.$state.remotePlaybackInfo.set({deviceName:null===(a=i())||void 0===a?void 0:a.getCastDevice().friendlyName}),n()&&this.Nl(e,"connected",t)}catch(s){const t=(0,o.g)(s);throw this.Nl(e,n()?"connected":"disconnected",new r.D("google-cast-prompt-error",{detail:t})),t}finally{e.player.dispatch("google-cast-prompt-close",{trigger:t})}}async load(e){if(o.I)throw Error("[vidstack] can not load google cast provider server-side");if(!this.ba)throw Error("[vidstack] google cast player was not initialized");return new((await a.e(890).then(a.bind(a,7509))).GoogleCastProvider)(this.ba,e)}async wm(e){if(function(){var e;return!(null===(e=window.cast)||void 0===e||!e.framework)}())return;const t=e.player.createEvent("google-cast-load-start");e.player.dispatch(t),await(0,o.h)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),await customElements.whenDefined("google-cast-launcher");const a=e.player.createEvent("google-cast-loaded",{trigger:t});if(e.player.dispatch(a),!function(){var e;return!(null===(e=window.chrome)||void 0===e||null===(e=e.cast)||void 0===e||!e.isAvailable)}())throw Error("Cast not available.");return a}async xm(e){this.ym(e);const t=await this.cast.requestSession();if(t)throw Error(d(t))}ym(e){var t;null===(t=this.cast)||void 0===t||t.setOptions({language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0,...e})}Nl(e,t,a){const o={type:"google-cast",state:t};e.delegate.c("remote-playback-change",o,a)}}})}}]);
//# sourceMappingURL=569.5bce5f34.chunk.js.map