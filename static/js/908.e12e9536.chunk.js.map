{"version":3,"file":"static/js/908.e12e9536.chunk.js","mappings":"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","sources":["../../node_modules/media-captions/dist/prod/ssa-parser.js"],"sourcesContent":["import { b as VTTCue, p as parseVTTTimestamp } from './index.js';\n\nconst FORMAT_START_RE = /^Format:[\\s\\t]*/, STYLE_START_RE = /^Style:[\\s\\t]*/, DIALOGUE_START_RE = /^Dialogue:[\\s\\t]*/, FORMAT_SPLIT_RE = /[\\s\\t]*,[\\s\\t]*/, STYLE_FUNCTION_RE = /\\{[^}]+\\}/g, NEW_LINE_RE = /\\\\N/g, STYLES_SECTION_START_RE = /^\\[(.*)[\\s\\t]?Styles\\]$/, EVENTS_SECTION_START_RE = /^\\[(.*)[\\s\\t]?Events\\]$/;\nclass SSAParser {\n  f;\n  O = 0;\n  a = null;\n  j = [];\n  k = [];\n  N = null;\n  d;\n  P = {};\n  async init(init) {\n    this.f = init;\n    if (init.errors)\n      this.d = (await import('./errors.js')).ParseErrorBuilder;\n  }\n  parse(line, lineCount) {\n    if (this.O) {\n      switch (this.O) {\n        case 1:\n          if (line === \"\") {\n            this.O = 0;\n          } else if (STYLE_START_RE.test(line)) {\n            if (this.N) {\n              const styles = line.replace(STYLE_START_RE, \"\").split(FORMAT_SPLIT_RE);\n              this.S(styles);\n            } else {\n              this.e(this.d?.T(\"Style\", lineCount));\n            }\n          } else if (FORMAT_START_RE.test(line)) {\n            this.N = line.replace(FORMAT_START_RE, \"\").split(FORMAT_SPLIT_RE);\n          } else if (EVENTS_SECTION_START_RE.test(line)) {\n            this.N = null;\n            this.O = 2;\n          }\n          break;\n        case 2:\n          if (line === \"\") {\n            this.Q();\n          } else if (DIALOGUE_START_RE.test(line)) {\n            this.Q();\n            if (this.N) {\n              const dialogue = line.replace(DIALOGUE_START_RE, \"\").split(FORMAT_SPLIT_RE), cue = this.U(dialogue, lineCount);\n              if (cue)\n                this.a = cue;\n            } else {\n              this.e(this.d?.T(\"Dialogue\", lineCount));\n            }\n          } else if (this.a) {\n            this.a.text += \"\\n\" + line.replace(STYLE_FUNCTION_RE, \"\").replace(NEW_LINE_RE, \"\\n\");\n          } else if (FORMAT_START_RE.test(line)) {\n            this.N = line.replace(FORMAT_START_RE, \"\").split(FORMAT_SPLIT_RE);\n          } else if (STYLES_SECTION_START_RE.test(line)) {\n            this.N = null;\n            this.O = 1;\n          } else if (EVENTS_SECTION_START_RE.test(line)) {\n            this.N = null;\n          }\n      }\n    } else if (line === \"\") ; else if (STYLES_SECTION_START_RE.test(line)) {\n      this.N = null;\n      this.O = 1;\n    } else if (EVENTS_SECTION_START_RE.test(line)) {\n      this.N = null;\n      this.O = 2;\n    }\n  }\n  done() {\n    return {\n      metadata: {},\n      cues: this.j,\n      regions: [],\n      errors: this.k\n    };\n  }\n  Q() {\n    if (!this.a)\n      return;\n    this.j.push(this.a);\n    this.f.onCue?.(this.a);\n    this.a = null;\n  }\n  S(values) {\n    let name = \"Default\", styles = {}, outlineX, align = \"center\", vertical = \"bottom\", marginV, outlineY = 1.2, outlineColor, bgColor, borderStyle = 3, transform = [];\n    for (let i = 0; i < this.N.length; i++) {\n      const field = this.N[i], value = values[i];\n      switch (field) {\n        case \"Name\":\n          name = value;\n          break;\n        case \"Fontname\":\n          styles[\"font-family\"] = value;\n          break;\n        case \"Fontsize\":\n          styles[\"font-size\"] = `calc(${value} / var(--overlay-height))`;\n          break;\n        case \"PrimaryColour\":\n          const color = parseColor(value);\n          if (color)\n            styles[\"--cue-color\"] = color;\n          break;\n        case \"BorderStyle\":\n          borderStyle = parseInt(value, 10);\n          break;\n        case \"BackColour\":\n          bgColor = parseColor(value);\n          break;\n        case \"OutlineColour\":\n          const _outlineColor = parseColor(value);\n          if (_outlineColor)\n            outlineColor = _outlineColor;\n          break;\n        case \"Bold\":\n          if (parseInt(value))\n            styles[\"font-weight\"] = \"bold\";\n          break;\n        case \"Italic\":\n          if (parseInt(value))\n            styles[\"font-style\"] = \"italic\";\n          break;\n        case \"Underline\":\n          if (parseInt(value))\n            styles[\"text-decoration\"] = \"underline\";\n          break;\n        case \"StrikeOut\":\n          if (parseInt(value))\n            styles[\"text-decoration\"] = \"line-through\";\n          break;\n        case \"Spacing\":\n          styles[\"letter-spacing\"] = value + \"px\";\n          break;\n        case \"AlphaLevel\":\n          styles[\"opacity\"] = parseFloat(value);\n          break;\n        case \"ScaleX\":\n          transform.push(`scaleX(${parseFloat(value) / 100})`);\n          break;\n        case \"ScaleY\":\n          transform.push(`scaleY(${parseFloat(value) / 100})`);\n          break;\n        case \"Angle\":\n          transform.push(`rotate(${value}deg)`);\n          break;\n        case \"Shadow\":\n          outlineY = parseInt(value, 10) * 1.2;\n          break;\n        case \"MarginL\":\n          styles[\"--cue-width\"] = \"auto\";\n          styles[\"--cue-left\"] = parseFloat(value) + \"px\";\n          break;\n        case \"MarginR\":\n          styles[\"--cue-width\"] = \"auto\";\n          styles[\"--cue-right\"] = parseFloat(value) + \"px\";\n          break;\n        case \"MarginV\":\n          marginV = parseFloat(value);\n          break;\n        case \"Outline\":\n          outlineX = parseInt(value, 10);\n          break;\n        case \"Alignment\":\n          const alignment = parseInt(value, 10);\n          if (alignment >= 4)\n            vertical = alignment >= 7 ? \"top\" : \"center\";\n          switch (alignment % 3) {\n            case 1:\n              align = \"start\";\n              break;\n            case 2:\n              align = \"center\";\n              break;\n            case 3:\n              align = \"end\";\n              break;\n          }\n      }\n    }\n    styles.R = vertical;\n    styles[\"--cue-white-space\"] = \"normal\";\n    styles[\"--cue-line-height\"] = \"normal\";\n    styles[\"--cue-text-align\"] = align;\n    if (vertical === \"center\") {\n      styles[`--cue-top`] = \"50%\";\n      transform.push(\"translateY(-50%)\");\n    } else {\n      styles[`--cue-${vertical}`] = (marginV || 0) + \"px\";\n    }\n    if (borderStyle === 1) {\n      styles[\"--cue-padding-y\"] = \"0\";\n    }\n    if (borderStyle === 1 || bgColor) {\n      styles[\"--cue-bg-color\"] = borderStyle === 1 ? \"none\" : bgColor;\n    }\n    if (borderStyle === 3 && outlineColor) {\n      styles[\"--cue-outline\"] = `${outlineX}px solid ${outlineColor}`;\n    }\n    if (borderStyle === 1 && typeof outlineX === \"number\") {\n      const color = bgColor ?? \"#000\";\n      styles[\"--cue-text-shadow\"] = [\n        outlineColor && buildTextShadow(outlineX * 1.2, outlineY * 1.2, outlineColor),\n        outlineColor ? buildTextShadow(outlineX * (outlineX / 2), outlineY * (outlineX / 2), color) : buildTextShadow(outlineX, outlineY, color)\n      ].filter(Boolean).join(\", \");\n    }\n    if (transform.length)\n      styles[\"--cue-transform\"] = transform.join(\" \");\n    this.P[name] = styles;\n  }\n  U(values, lineCount) {\n    const fields = this.V(values);\n    const timestamp = this.o(fields.Start, fields.End, lineCount);\n    if (!timestamp)\n      return;\n    const cue = new VTTCue(timestamp[0], timestamp[1], \"\"), styles = { ...this.P[fields.Style] || {} }, voice = fields.Name ? `<v ${fields.Name}>` : \"\";\n    const vertical = styles.R, marginLeft = fields.MarginL && parseFloat(fields.MarginL), marginRight = fields.MarginR && parseFloat(fields.MarginR), marginV = fields.MarginV && parseFloat(fields.MarginV);\n    if (marginLeft) {\n      styles[\"--cue-width\"] = \"auto\";\n      styles[\"--cue-left\"] = marginLeft + \"px\";\n    }\n    if (marginRight) {\n      styles[\"--cue-width\"] = \"auto\";\n      styles[\"--cue-right\"] = marginRight + \"px\";\n    }\n    if (marginV && vertical !== \"center\") {\n      styles[`--cue-${vertical}`] = marginV + \"px\";\n    }\n    cue.text = voice + values.slice(this.N.length - 1).join(\", \").replace(STYLE_FUNCTION_RE, \"\").replace(NEW_LINE_RE, \"\\n\");\n    delete styles.R;\n    if (Object.keys(styles).length)\n      cue.style = styles;\n    return cue;\n  }\n  V(values) {\n    const fields = {};\n    for (let i = 0; i < this.N.length; i++) {\n      fields[this.N[i]] = values[i];\n    }\n    return fields;\n  }\n  o(startTimeText, endTimeText, lineCount) {\n    const startTime = parseVTTTimestamp(startTimeText), endTime = parseVTTTimestamp(endTimeText);\n    if (startTime !== null && endTime !== null && endTime > startTime) {\n      return [startTime, endTime];\n    } else {\n      if (startTime === null) {\n        this.e(this.d?.q(startTimeText, lineCount));\n      }\n      if (endTime === null) {\n        this.e(this.d?.r(endTimeText, lineCount));\n      }\n      if (startTime != null && endTime !== null && endTime > startTime) {\n        this.e(this.d?.s(startTime, endTime, lineCount));\n      }\n    }\n  }\n  e(error) {\n    if (!error)\n      return;\n    this.k.push(error);\n    if (this.f.strict) {\n      this.f.cancel();\n      throw error;\n    } else {\n      this.f.onError?.(error);\n    }\n  }\n}\nfunction parseColor(color) {\n  const abgr = parseInt(color.replace(\"&H\", \"\"), 16);\n  if (abgr >= 0) {\n    const a = abgr >> 24 & 255 ^ 255;\n    const alpha = a / 255;\n    const b = abgr >> 16 & 255;\n    const g = abgr >> 8 & 255;\n    const r = abgr & 255;\n    return \"rgba(\" + [r, g, b, alpha].join(\",\") + \")\";\n  }\n  return null;\n}\nfunction buildTextShadow(x, y, color) {\n  const noOfShadows = Math.ceil(2 * Math.PI * x);\n  let textShadow = \"\";\n  for (let i = 0; i < noOfShadows; i++) {\n    const theta = 2 * Math.PI * i / noOfShadows;\n    textShadow += x * Math.cos(theta) + \"px \" + y * Math.sin(theta) + \"px 0 \" + color + (i == noOfShadows - 1 ? \"\" : \",\");\n  }\n  return textShadow;\n}\nfunction createSSAParser() {\n  return new SSAParser();\n}\n\nexport { SSAParser, createSSAParser as default };\n"],"names":["FORMAT_START_RE","STYLE_START_RE","DIALOGUE_START_RE","FORMAT_SPLIT_RE","STYLE_FUNCTION_RE","NEW_LINE_RE","STYLES_SECTION_START_RE","EVENTS_SECTION_START_RE","SSAParser","constructor","_defineProperty","init","this","f","errors","d","ParseErrorBuilder","parse","line","lineCount","O","test","N","styles","replace","split","S","_this$d","e","T","Q","dialogue","cue","U","a","_this$d2","text","done","metadata","cues","j","regions","k","_this$f$onCue","_this$f","push","onCue","call","values","outlineX","marginV","outlineColor","bgColor","name","align","vertical","outlineY","borderStyle","transform","i","length","field","value","concat","color","parseColor","parseInt","_outlineColor","parseFloat","alignment","R","_bgColor","buildTextShadow","filter","Boolean","join","P","fields","V","timestamp","o","Start","End","VTTCue","Style","voice","Name","marginLeft","MarginL","marginRight","MarginR","MarginV","slice","Object","keys","style","startTimeText","endTimeText","startTime","parseVTTTimestamp","endTime","_this$d3","_this$d4","_this$d5","q","r","s","error","strict","cancel","_this$f$onError","_this$f2","onError","abgr","x","y","noOfShadows","Math","ceil","PI","textShadow","theta","cos","sin","createSSAParser"],"sourceRoot":""}