{"version":3,"file":"static/js/437.3a94713c.chunk.js","mappings":"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","sources":["../../node_modules/@vidstack/react/dist/prod/chunks/vidstack-ad792f55.js","../../node_modules/@vidstack/react/dist/prod/chunks/vidstack-ccf36f45.js","../../node_modules/@vidstack/react/dist/prod/chunks/vidstack-f93826d0.js"],"sourcesContent":["\"use client\"\n\nimport { i as isUndefined, d as isNumber, u as useDisposalBin, e as effect, o as onDispose, l as listenEvent, D as DOMEvent, f as isNil, g as createScope, h as setAttribute, a as isString } from './vidstack-c3208662.js';\nimport { f as IS_SAFARI, g as isHLSSrc, h as getNumberOfDecimalPlaces, L as ListSymbol, j as isMediaStream } from './vidstack-3be5d39a.js';\n\nclass RAFLoop {\n  constructor(_callback) {\n    this.Bg = _callback;\n  }\n  uc() {\n    if (!isUndefined(this.Dc))\n      return;\n    this.xj();\n  }\n  vc() {\n    if (isNumber(this.Dc))\n      window.cancelAnimationFrame(this.Dc);\n    this.Dc = void 0;\n  }\n  xj() {\n    this.Dc = window.requestAnimationFrame(() => {\n      if (isUndefined(this.Dc))\n        return;\n      this.Bg();\n      this.xj();\n    });\n  }\n}\n\nclass HTMLMediaEvents {\n  constructor(_provider, _ctx) {\n    this.Wb = _provider;\n    this.zi = _ctx;\n    this.qi = useDisposalBin();\n    this.Pi = false;\n    this.Ri = false;\n    this.Si = false;\n    this.Qi = new RAFLoop(this.Vi.bind(this));\n    this.Wi = void 0;\n    this.pj = void 0;\n    this.Xi();\n    effect(this.Yi.bind(this));\n    onDispose(this.si.bind(this));\n  }\n  get Ba() {\n    return this.Wb.media;\n  }\n  get Wc() {\n    return this.zi.delegate;\n  }\n  si() {\n    this.Ri = false;\n    this.Si = false;\n    this.Qi.vc();\n    this.qi.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  Vi() {\n    const newTime = this.Wb.currentTime;\n    if (this.zi.$state.currentTime() !== newTime)\n      this.Oi(newTime);\n  }\n  Xi() {\n    this.Ni(\"loadstart\", this.Kf);\n    this.Ni(\"abort\", this.Ui);\n    this.Ni(\"emptied\", this.Zi);\n    this.Ni(\"error\", this.od);\n  }\n  _i() {\n    if (this.Ri)\n      return;\n    this.qi.add(\n      this.Ni(\"loadeddata\", this.$i),\n      this.Ni(\"loadedmetadata\", this.aj),\n      this.Ni(\"canplay\", this.hd),\n      this.Ni(\"canplaythrough\", this.bj),\n      this.Ni(\"durationchange\", this.cj),\n      this.Ni(\"play\", this.qa),\n      this.Ni(\"progress\", this.dj),\n      this.Ni(\"stalled\", this.ej),\n      this.Ni(\"suspend\", this.fj)\n    );\n    this.Ri = true;\n  }\n  gj() {\n    if (this.Si)\n      return;\n    this.qi.add(\n      this.Ni(\"pause\", this.ra),\n      this.Ni(\"playing\", this.hj),\n      this.Ni(\"ratechange\", this.ij),\n      this.Ni(\"seeked\", this.jj),\n      this.Ni(\"seeking\", this.kj),\n      this.Ni(\"ended\", this.lj),\n      this.Ni(\"volumechange\", this.vd),\n      this.Ni(\"waiting\", this.mj)\n    );\n    this.Si = true;\n  }\n  Ni(eventType, handler) {\n    return listenEvent(\n      this.Ba,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  qj(event2) {\n    return;\n  }\n  Oi(time, trigger) {\n    this.Wc.Nb(\"time-update\", {\n      // Avoid errors where `currentTime` can have higher precision.\n      detail: {\n        currentTime: Math.min(time, this.zi.$state.seekableEnd()),\n        played: this.Ba.played\n      },\n      trigger\n    });\n  }\n  Kf(event2) {\n    if (this.Ba.networkState === 3) {\n      this.Ui(event2);\n      return;\n    }\n    this._i();\n    this.Wc.Nb(\"load-start\", { trigger: event2 });\n  }\n  Ui(event2) {\n    this.Wc.Nb(\"abort\", { trigger: event2 });\n  }\n  Zi() {\n    this.Wc.Nb(\"emptied\", { trigger: event });\n  }\n  $i(event2) {\n    this.Wc.Nb(\"loaded-data\", { trigger: event2 });\n  }\n  aj(event2) {\n    this.gj();\n    this.Wc.Nb(\"volume-change\", {\n      detail: {\n        volume: this.Ba.volume,\n        muted: this.Ba.muted\n      }\n    });\n    this.Wc.Nb(\"loaded-metadata\", { trigger: event2 });\n    if (IS_SAFARI && isHLSSrc(this.zi.$state.source())) {\n      this.Wc.Dg(this.Ti(), event2);\n    }\n  }\n  Ti() {\n    return {\n      duration: this.Ba.duration,\n      buffered: this.Ba.buffered,\n      seekable: this.Ba.seekable\n    };\n  }\n  qa(event2) {\n    if (!this.zi.$state.canPlay)\n      return;\n    this.Wc.Nb(\"play\", { trigger: event2 });\n  }\n  ra(event2) {\n    if (this.Ba.readyState === 1 && !this.Pi)\n      return;\n    this.Pi = false;\n    this.Qi.vc();\n    this.Wc.Nb(\"pause\", { trigger: event2 });\n  }\n  hd(event2) {\n    this.Wc.Dg(this.Ti(), event2);\n  }\n  bj(event2) {\n    if (this.zi.$state.started())\n      return;\n    this.Wc.Nb(\"can-play-through\", {\n      trigger: event2,\n      detail: this.Ti()\n    });\n  }\n  hj(event2) {\n    this.Pi = false;\n    this.Wc.Nb(\"playing\", { trigger: event2 });\n    this.Qi.uc();\n  }\n  ej(event2) {\n    this.Wc.Nb(\"stalled\", { trigger: event2 });\n    if (this.Ba.readyState < 3) {\n      this.Pi = true;\n      this.Wc.Nb(\"waiting\", { trigger: event2 });\n    }\n  }\n  mj(event2) {\n    if (this.Ba.readyState < 3) {\n      this.Pi = true;\n      this.Wc.Nb(\"waiting\", { trigger: event2 });\n    }\n  }\n  lj(event2) {\n    this.Qi.vc();\n    this.Oi(this.Ba.duration, event2);\n    this.Wc.Nb(\"end\", { trigger: event2 });\n    if (this.zi.$state.loop()) {\n      this.nj();\n    } else {\n      this.Wc.Nb(\"ended\", { trigger: event2 });\n    }\n  }\n  Yi() {\n    if (this.zi.$state.paused()) {\n      listenEvent(this.Ba, \"timeupdate\", this.oj.bind(this));\n    }\n  }\n  oj(event2) {\n    this.Oi(this.Ba.currentTime, event2);\n  }\n  cj(event2) {\n    if (this.zi.$state.ended()) {\n      this.Oi(this.Ba.duration, event2);\n    }\n    this.Wc.Nb(\"duration-change\", {\n      detail: this.Ba.duration,\n      trigger: event2\n    });\n  }\n  vd(event2) {\n    this.Wc.Nb(\"volume-change\", {\n      detail: {\n        volume: this.Ba.volume,\n        muted: this.Ba.muted\n      },\n      trigger: event2\n    });\n  }\n  jj(event2) {\n    this.Oi(this.Ba.currentTime, event2);\n    this.Wc.Nb(\"seeked\", {\n      detail: this.Ba.currentTime,\n      trigger: event2\n    });\n    if (Math.trunc(this.Ba.currentTime) === Math.trunc(this.Ba.duration) && getNumberOfDecimalPlaces(this.Ba.duration) > getNumberOfDecimalPlaces(this.Ba.currentTime)) {\n      this.Oi(this.Ba.duration, event2);\n      if (!this.Ba.ended) {\n        this.zi.player.dispatch(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  kj(event2) {\n    this.Wc.Nb(\"seeking\", {\n      detail: this.Ba.currentTime,\n      trigger: event2\n    });\n  }\n  dj(event2) {\n    this.Wc.Nb(\"progress\", {\n      detail: {\n        buffered: this.Ba.buffered,\n        seekable: this.Ba.seekable\n      },\n      trigger: event2\n    });\n  }\n  nj() {\n    const hasCustomControls = isNil(this.Ba.controls);\n    if (hasCustomControls)\n      this.Ba.controls = false;\n    this.zi.player.dispatch(new DOMEvent(\"media-loop-request\"));\n  }\n  fj(event2) {\n    this.Wc.Nb(\"suspend\", { trigger: event2 });\n  }\n  ij(event2) {\n    this.Wc.Nb(\"rate-change\", {\n      detail: this.Ba.playbackRate,\n      trigger: event2\n    });\n  }\n  od(event2) {\n    const error = this.Ba.error;\n    if (!error)\n      return;\n    this.Wc.Nb(\"error\", {\n      detail: {\n        message: error.message,\n        code: error.code,\n        mediaError: error\n      },\n      trigger: event2\n    });\n  }\n}\n\nclass NativeAudioTracks {\n  constructor(_provider, _context) {\n    this.Wb = _provider;\n    this.R = _context;\n    this.rj.onaddtrack = this.tj.bind(this);\n    this.rj.onremovetrack = this.uj.bind(this);\n    this.rj.onchange = this.vj.bind(this);\n    listenEvent(this.R.audioTracks, \"change\", this.wj.bind(this));\n  }\n  get rj() {\n    return this.Wb.media.audioTracks;\n  }\n  tj(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const audioTrack = {\n      id: _track.id + \"\",\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.R.audioTracks[ListSymbol.h](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  uj(event) {\n    const track = this.R.audioTracks.getById(event.track.id);\n    if (track)\n      this.R.audioTracks[ListSymbol.f](track, event);\n  }\n  vj(event) {\n    let enabledTrack = this.sj();\n    if (!enabledTrack)\n      return;\n    const track = this.R.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.R.audioTracks[ListSymbol.$](track, true, event);\n  }\n  sj() {\n    return Array.from(this.rj).find((track) => track.enabled);\n  }\n  wj(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.rj.getTrackById(current.id);\n    if (track) {\n      const prev = this.sj();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nclass HTMLMediaProvider {\n  constructor(_media) {\n    this.Ba = _media;\n    this.scope = createScope();\n    this.jg = null;\n  }\n  setup(context) {\n    new HTMLMediaEvents(this, context);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, context);\n    onDispose(() => {\n      this.Ba.setAttribute(\"src\", \"\");\n      this.Ba.load();\n    });\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.Ba;\n  }\n  get currentSrc() {\n    return this.jg;\n  }\n  get paused() {\n    return this.Ba.paused;\n  }\n  get muted() {\n    return this.Ba.muted;\n  }\n  set muted(muted) {\n    this.Ba.muted = muted;\n  }\n  get volume() {\n    return this.Ba.volume;\n  }\n  set volume(volume) {\n    this.Ba.volume = volume;\n  }\n  get currentTime() {\n    return this.Ba.currentTime;\n  }\n  set currentTime(time) {\n    this.Ba.currentTime = time;\n  }\n  get playsinline() {\n    return this.Ba.hasAttribute(\"playsinline\");\n  }\n  set playsinline(playsinline) {\n    setAttribute(this.Ba, \"playsinline\", playsinline);\n  }\n  get playbackRate() {\n    return this.Ba.playbackRate;\n  }\n  set playbackRate(rate) {\n    this.Ba.playbackRate = rate;\n  }\n  async play() {\n    return this.Ba.play();\n  }\n  async pause() {\n    return this.Ba.pause();\n  }\n  async loadSource({ src, type }, preload) {\n    this.Ba.preload = preload || \"\";\n    if (isMediaStream(src)) {\n      this.Ba.srcObject = src;\n    } else {\n      this.Ba.srcObject = null;\n      this.Ba.src = isString(src) ? src : window.URL.createObjectURL(src);\n    }\n    this.Ba.load();\n    this.jg = { src, type };\n  }\n}\n\nexport { HTMLMediaProvider as H, RAFLoop as R };\n","\"use client\"\n\nimport { p as peek, D as DOMEvent, l as listenEvent, e as effect, c as camelToKebabCase, i as isUndefined, a as isString, b as isFunction } from './vidstack-c3208662.js';\nimport { Q as QualitySymbol, T as TextTrack, a as TextTrackSymbol, L as ListSymbol, I as IS_CHROME, c as coerceToError, l as loadScript, p as preconnect, i as isHLSSupported } from './vidstack-3be5d39a.js';\nimport { VideoProvider } from './vidstack-f93826d0.js';\nimport { R as RAFLoop } from './vidstack-ad792f55.js';\nimport 'react';\nimport 'react-dom';\n\nconst toDOMEventType = (type) => camelToKebabCase(type);\nclass HLSController {\n  constructor(_video) {\n    this.xa = _video;\n    this.Ja = null;\n    this.Ai = null;\n    this.ig = {};\n    this.H = /* @__PURE__ */ new Set();\n  }\n  get instance() {\n    return this.Ja;\n  }\n  setup(ctor, context) {\n    this.zi = context;\n    const isLive = peek(context.$state.streamType).includes(\"live\"), isLiveLowLatency = peek(context.$state.streamType).includes(\"ll-\");\n    this.Ja = new ctor({\n      lowLatencyMode: isLiveLowLatency,\n      backBufferLength: isLiveLowLatency ? 4 : isLive ? 8 : void 0,\n      renderTextTracksNatively: false,\n      ...this.ig\n    });\n    const dispatcher = this.Bi.bind(this);\n    for (const event of Object.values(ctor.Events))\n      this.Ja.on(event, dispatcher);\n    this.Ja.on(ctor.Events.ERROR, this.od.bind(this));\n    for (const callback of this.H)\n      callback(this.Ja);\n    context.player.dispatch(new DOMEvent(\"hls-instance\", { detail: this.Ja }));\n    this.Ja.attachMedia(this.xa);\n    this.Ja.on(ctor.Events.AUDIO_TRACK_SWITCHED, this.Ci.bind(this));\n    this.Ja.on(ctor.Events.LEVEL_SWITCHED, this.Di.bind(this));\n    this.Ja.on(ctor.Events.LEVEL_LOADED, this.Ei.bind(this));\n    this.Ja.on(ctor.Events.NON_NATIVE_TEXT_TRACKS_FOUND, this.Fi.bind(this));\n    this.Ja.on(ctor.Events.CUES_PARSED, this.Gi.bind(this));\n    context.qualities[QualitySymbol.pb] = this.Hi.bind(this);\n    listenEvent(context.qualities, \"change\", this.th.bind(this));\n    listenEvent(context.audioTracks, \"change\", this.Ii.bind(this));\n    this.Ai = effect(this.Ji.bind(this));\n  }\n  Ji() {\n    if (!this.zi.$state.live())\n      return;\n    const raf = new RAFLoop(this.Ki.bind(this));\n    raf.uc();\n    return raf.vc.bind(raf);\n  }\n  Ki() {\n    this.zi.$state.liveSyncPosition.set(this.Ja?.liveSyncPosition ?? Infinity);\n  }\n  Bi(eventType, detail) {\n    this.zi.player?.dispatch(new DOMEvent(toDOMEventType(eventType), { detail }));\n  }\n  Fi(eventType, data) {\n    const event = new DOMEvent(eventType, { detail: data });\n    let currentTrack = -1;\n    for (let i = 0; i < data.tracks.length; i++) {\n      const nonNativeTrack = data.tracks[i], init = nonNativeTrack.subtitleTrack ?? nonNativeTrack.closedCaptions, track = new TextTrack({\n        id: `hls-${nonNativeTrack.kind}${i}`,\n        src: init?.url,\n        label: nonNativeTrack.label,\n        language: init?.lang,\n        kind: nonNativeTrack.kind\n      });\n      track[TextTrackSymbol.Na] = 2;\n      track[TextTrackSymbol.$a] = () => {\n        if (track.mode === \"showing\") {\n          this.Ja.subtitleTrack = i;\n          currentTrack = i;\n        } else if (currentTrack === i) {\n          this.Ja.subtitleTrack = -1;\n          currentTrack = -1;\n        }\n      };\n      if (nonNativeTrack.default)\n        track.setMode(\"showing\", event);\n      this.zi.textTracks.add(track, event);\n    }\n  }\n  Gi(eventType, data) {\n    const track = this.zi.textTracks.getById(`hls-${data.track}`);\n    if (!track)\n      return;\n    const event = new DOMEvent(eventType, { detail: data });\n    for (const cue of data.cues) {\n      cue.positionAlign = \"auto\";\n      track.addCue(cue, event);\n    }\n  }\n  Ci(eventType, data) {\n    const track = this.zi.audioTracks[data.id];\n    if (track) {\n      this.zi.audioTracks[ListSymbol.$](\n        track,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  Di(eventType, data) {\n    const quality = this.zi.qualities[data.level];\n    if (quality) {\n      this.zi.qualities[ListSymbol.$](\n        quality,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  Ei(eventType, data) {\n    if (this.zi.$state.canPlay())\n      return;\n    const { type, live, totalduration: duration, targetduration } = data.details;\n    const event = new DOMEvent(eventType, { detail: data });\n    this.zi.delegate.Nb(\"stream-type-change\", {\n      detail: live ? type === \"EVENT\" && Number.isFinite(duration) && targetduration >= 10 ? \"live:dvr\" : \"live\" : \"on-demand\",\n      trigger: event\n    });\n    this.zi.delegate.Nb(\"duration-change\", { detail: duration, trigger: event });\n    const media = this.Ja.media;\n    if (this.Ja.currentLevel === -1) {\n      this.zi.qualities[QualitySymbol.ob](true, event);\n    }\n    for (const track of this.Ja.audioTracks) {\n      this.zi.audioTracks[ListSymbol.h](\n        {\n          id: track.id + \"\",\n          label: track.name,\n          language: track.lang || \"\",\n          kind: \"main\"\n        },\n        event\n      );\n    }\n    for (const level of this.Ja.levels) {\n      this.zi.qualities[ListSymbol.h](\n        {\n          width: level.width,\n          height: level.height,\n          codec: level.codecSet,\n          bitrate: level.bitrate\n        },\n        event\n      );\n    }\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger: event }));\n  }\n  od(eventType, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case \"networkError\":\n          this.Ja?.startLoad();\n          break;\n        case \"mediaError\":\n          this.Ja?.recoverMediaError();\n          break;\n        default:\n          this.Ja?.destroy();\n          this.Ja = null;\n          break;\n      }\n    }\n  }\n  Hi() {\n    if (this.Ja)\n      this.Ja.currentLevel = -1;\n  }\n  th() {\n    const { qualities } = this.zi;\n    if (!this.Ja || qualities.auto)\n      return;\n    this.Ja[qualities.switch + \"Level\"] = qualities.selectedIndex;\n    if (IS_CHROME)\n      this.xa.currentTime = this.xa.currentTime;\n  }\n  Ii() {\n    const { audioTracks } = this.zi;\n    if (this.Ja && this.Ja.audioTrack !== audioTracks.selectedIndex) {\n      this.Ja.audioTrack = audioTracks.selectedIndex;\n    }\n  }\n  N() {\n    if (this.zi)\n      this.zi.qualities[QualitySymbol.pb] = void 0;\n    this.Ja?.destroy();\n    this.Ja = null;\n    this.Ai?.();\n    this.Ai = null;\n  }\n}\n\nclass HLSLibLoader {\n  constructor(_lib, _ctx, _callback) {\n    this.zf = _lib;\n    this.zi = _ctx;\n    this.Bg = _callback;\n    this.Li();\n  }\n  async Li() {\n    const callbacks = {\n      onLoadStart: this.Kf.bind(this),\n      onLoaded: this.Vf.bind(this),\n      onLoadError: this.Mi.bind(this)\n    };\n    let ctor = await loadHLSScript(this.zf, callbacks);\n    if (isUndefined(ctor) && !isString(this.zf))\n      ctor = await importHLS(this.zf, callbacks);\n    if (!ctor)\n      return null;\n    if (!ctor.isSupported()) {\n      const message = \"[vidstack]: `hls.js` is not supported in this environment\";\n      this.zi.player.dispatch(new DOMEvent(\"hls-unsupported\"));\n      this.zi.delegate.Nb(\"error\", { detail: { message, code: 4 } });\n      return null;\n    }\n    return ctor;\n  }\n  Kf() {\n    this.zi.player.dispatch(new DOMEvent(\"hls-lib-load-start\"));\n  }\n  Vf(ctor) {\n    this.zi.player.dispatch(\n      new DOMEvent(\"hls-lib-loaded\", {\n        detail: ctor\n      })\n    );\n    this.Bg(ctor);\n  }\n  Mi(e) {\n    const error = coerceToError(e);\n    this.zi.player.dispatch(\n      new DOMEvent(\"hls-lib-load-error\", {\n        detail: error\n      })\n    );\n    this.zi.delegate.Nb(\"error\", {\n      detail: { message: error.message, code: 4 }\n    });\n  }\n}\nasync function importHLS(loader, callbacks = {}) {\n  if (isUndefined(loader))\n    return void 0;\n  callbacks.onLoadStart?.();\n  if (loader.prototype && loader.prototype !== Function) {\n    callbacks.onLoaded?.(loader);\n    return loader;\n  }\n  try {\n    const ctor = (await loader())?.default;\n    if (ctor && !!ctor.isSupported) {\n      callbacks.onLoaded?.(ctor);\n    } else {\n      throw Error(\n        false ? \"[vidstack] failed importing `hls.js`. Dynamic import returned invalid constructor.\" : \"\"\n      );\n    }\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\nasync function loadHLSScript(src, callbacks = {}) {\n  if (!isString(src))\n    return void 0;\n  callbacks.onLoadStart?.();\n  try {\n    await loadScript(src);\n    if (!isFunction(window.Hls)) {\n      throw Error(\n        false ? \"[vidstack] failed loading `hls.js`. Could not find a valid `Hls` constructor on window\" : \"\"\n      );\n    }\n    const ctor = window.Hls;\n    callbacks.onLoaded?.(ctor);\n    return ctor;\n  } catch (err) {\n    callbacks.onLoadError?.(err);\n  }\n  return void 0;\n}\n\nconst JS_DELIVR_CDN = \"https://cdn.jsdelivr.net\";\nclass HLSProvider extends VideoProvider {\n  constructor() {\n    super(...arguments);\n    this.$$PROVIDER_TYPE = \"HLS\";\n    this.hg = null;\n    this.af = new HLSController(this.video);\n    this.gg = `${JS_DELIVR_CDN}/npm/hls.js@^1.0.0/dist/hls${\".min.js\"}`;\n  }\n  /**\n   * The `hls.js` constructor.\n   */\n  get ctor() {\n    return this.hg;\n  }\n  /**\n   * The current `hls.js` instance.\n   */\n  get instance() {\n    return this.af.instance;\n  }\n  get type() {\n    return \"hls\";\n  }\n  get canLiveSync() {\n    return true;\n  }\n  /**\n   * The `hls.js` configuration object.\n   *\n   * @see {@link https://github.com/video-dev/hls.js/blob/master/docs/API.md#fine-tuning}\n   */\n  get config() {\n    return this.af.ig;\n  }\n  set config(config) {\n    this.af.ig = config;\n  }\n  /**\n   * The `hls.js` constructor (supports dynamic imports) or a URL of where it can be found.\n   *\n   * @defaultValue `https://cdn.jsdelivr.net/npm/hls.js@^1.0.0/dist/hls.min.js`\n   */\n  get library() {\n    return this.gg;\n  }\n  set library(library) {\n    this.gg = library;\n  }\n  preconnect() {\n    if (!isString(this.gg))\n      return;\n    preconnect(this.gg);\n  }\n  setup(context) {\n    super.setup(context);\n    new HLSLibLoader(this.gg, context, (ctor) => {\n      this.hg = ctor;\n      this.af.setup(ctor, context);\n      context.delegate.Nb(\"provider-setup\", { detail: this });\n      const src = peek(context.$state.source);\n      if (src)\n        this.loadSource(src);\n    });\n  }\n  async loadSource(src, preload) {\n    if (!isString(src.src))\n      return;\n    this.Ba.preload = preload || \"\";\n    this.af.instance?.loadSource(src.src);\n    this.jg = src;\n  }\n  /**\n   * The given callback is invoked when a new `hls.js` instance is created and right before it's\n   * attached to media.\n   */\n  onInstance(callback) {\n    const instance = this.af.instance;\n    if (instance)\n      callback(instance);\n    this.af.H.add(callback);\n    return () => this.af.H.delete(callback);\n  }\n  destroy() {\n    this.af.N();\n  }\n}\nHLSProvider.supported = isHLSSupported();\n\nexport { HLSProvider };\n","\"use client\"\n\nimport { o as onDispose, l as listenEvent, D as DOMEvent, s as scoped } from './vidstack-c3208662.js';\nimport { T as TextTrack, a as TextTrackSymbol, b as canUsePictureInPicture, d as canUseVideoPresentation, e as canPlayHLSNatively } from './vidstack-3be5d39a.js';\nimport { H as HTMLMediaProvider } from './vidstack-ad792f55.js';\nimport 'react';\nimport 'react-dom';\n\nclass NativeHLSTextTracks {\n  constructor(_video, _context) {\n    this.xa = _video;\n    this.R = _context;\n    _video.textTracks.onaddtrack = this.Da.bind(this);\n    onDispose(this.si.bind(this));\n  }\n  Da(event) {\n    const nativeTrack = event.track;\n    if (!nativeTrack || findTextTrackElement(this.xa, nativeTrack))\n      return;\n    const track = new TextTrack({\n      id: nativeTrack.id,\n      kind: nativeTrack.kind,\n      label: nativeTrack.label,\n      language: nativeTrack.language,\n      type: \"vtt\"\n    });\n    track[TextTrackSymbol.Va] = { track: nativeTrack };\n    track[TextTrackSymbol.Na] = 2;\n    track[TextTrackSymbol.Ha] = true;\n    let lastIndex = 0;\n    const onCueChange = (event2) => {\n      if (!nativeTrack.cues)\n        return;\n      for (let i = lastIndex; i < nativeTrack.cues.length; i++) {\n        track.addCue(nativeTrack.cues[i], event2);\n        lastIndex++;\n      }\n    };\n    onCueChange(event);\n    nativeTrack.oncuechange = onCueChange;\n    this.R.textTracks.add(track, event);\n    track.setMode(nativeTrack.mode, event);\n  }\n  si() {\n    this.xa.textTracks.onaddtrack = null;\n    for (const track of this.R.textTracks) {\n      const nativeTrack = track[TextTrackSymbol.Va]?.track;\n      if (nativeTrack?.oncuechange)\n        nativeTrack.oncuechange = null;\n    }\n  }\n}\nfunction findTextTrackElement(video, track) {\n  return Array.from(video.children).find((el) => el.track === track);\n}\n\nclass VideoPictureInPicture {\n  constructor(_video, _media) {\n    this.xa = _video;\n    this.Ba = _media;\n    this.oa = (active, event) => {\n      this.Ba.delegate.Nb(\"picture-in-picture-change\", {\n        detail: active,\n        trigger: event\n      });\n    };\n    listenEvent(this.xa, \"enterpictureinpicture\", this.ti.bind(this));\n    listenEvent(this.xa, \"leavepictureinpicture\", this.ui.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this.xa;\n  }\n  get supported() {\n    return canUsePictureInPicture(this.xa);\n  }\n  async enter() {\n    return this.xa.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  ti(event) {\n    this.oa(true, event);\n  }\n  ui(event) {\n    this.oa(false, event);\n  }\n}\n\nclass VideoPresentation {\n  constructor(_video, _media) {\n    this.xa = _video;\n    this.Ba = _media;\n    this.Ra = \"inline\";\n    listenEvent(this.xa, \"webkitpresentationmodechanged\", this.$a.bind(this));\n  }\n  get xi() {\n    return canUseVideoPresentation(this.xa);\n  }\n  async wi(mode) {\n    if (this.Ra === mode)\n      return;\n    this.xa.webkitSetPresentationMode(mode);\n  }\n  $a() {\n    const prevMode = this.Ra;\n    this.Ra = this.xa.webkitPresentationMode;\n    this.Ba.player?.dispatch(\n      new DOMEvent(\"video-presentation-change\", {\n        detail: this.Ra,\n        trigger: event\n      })\n    );\n    [\"fullscreen\", \"picture-in-picture\"].forEach((type) => {\n      if (this.Ra === type || prevMode === type) {\n        this.Ba.delegate.Nb(`${type}-change`, {\n          detail: this.Ra === type,\n          trigger: event\n        });\n      }\n    });\n  }\n}\nclass FullscreenPresentationAdapter {\n  constructor(_presentation) {\n    this.vi = _presentation;\n  }\n  get active() {\n    return this.vi.Ra === \"fullscreen\";\n  }\n  get supported() {\n    return this.vi.xi;\n  }\n  async enter() {\n    this.vi.wi(\"fullscreen\");\n  }\n  async exit() {\n    this.vi.wi(\"inline\");\n  }\n}\nclass PIPPresentationAdapter {\n  constructor(_presentation) {\n    this.vi = _presentation;\n  }\n  get active() {\n    return this.vi.Ra === \"picture-in-picture\";\n  }\n  get supported() {\n    return this.vi.xi;\n  }\n  async enter() {\n    this.vi.wi(\"picture-in-picture\");\n  }\n  async exit() {\n    this.vi.wi(\"inline\");\n  }\n}\n\nclass VideoProvider extends HTMLMediaProvider {\n  constructor(video, context) {\n    super(video);\n    this.$$PROVIDER_TYPE = \"VIDEO\";\n    scoped(() => {\n      if (canUseVideoPresentation(video)) {\n        const presentation = new VideoPresentation(video, context);\n        this.fullscreen = new FullscreenPresentationAdapter(presentation);\n        this.pictureInPicture = new PIPPresentationAdapter(presentation);\n      } else if (canUsePictureInPicture(video)) {\n        this.pictureInPicture = new VideoPictureInPicture(video, context);\n      }\n    }, this.scope);\n  }\n  get type() {\n    return \"video\";\n  }\n  setup(context) {\n    super.setup(context);\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, context);\n    }\n    context.textRenderers.Ga(this.video);\n    onDispose(() => {\n      context.textRenderers.Ga(null);\n    });\n    if (this.type === \"video\")\n      context.delegate.Nb(\"provider-setup\", { detail: this });\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this.Ba;\n  }\n}\n\nexport { VideoProvider };\n"],"names":["RAFLoop","constructor","_callback","this","Bg","uc","isUndefined","Dc","xj","vc","isNumber","window","cancelAnimationFrame","requestAnimationFrame","HTMLMediaEvents","_provider","_ctx","Wb","zi","qi","useDisposalBin","Pi","Ri","Si","Qi","Vi","bind","Wi","pj","Xi","effect","Yi","onDispose","si","Ba","media","Wc","delegate","empty","newTime","currentTime","$state","Oi","Ni","Kf","Ui","Zi","od","_i","add","$i","aj","hd","bj","cj","qa","dj","ej","fj","gj","ra","hj","ij","jj","kj","lj","vd","mj","eventType","handler","listenEvent","qj","event2","time","trigger","Nb","detail","Math","min","seekableEnd","played","networkState","event","volume","muted","IS_SAFARI","isHLSSrc","source","Dg","Ti","duration","buffered","seekable","canPlay","readyState","started","loop","nj","paused","oj","ended","trunc","getNumberOfDecimalPlaces","player","dispatch","DOMEvent","isNil","controls","playbackRate","error","message","code","mediaError","NativeAudioTracks","_context","R","rj","onaddtrack","tj","onremovetrack","uj","onchange","vj","audioTracks","wj","_track","track","label","audioTrack","id","language","kind","selected","ListSymbol","h","enabled","getById","f","enabledTrack","sj","$","Array","from","find","current","getTrackById","prev","HTMLMediaProvider","_media","scope","createScope","jg","setup","context","setAttribute","load","type","currentSrc","playsinline","hasAttribute","rate","play","pause","loadSource","_ref","preload","src","isMediaStream","srcObject","isString","URL","createObjectURL","HLSController","_video","xa","Ja","Ai","ig","H","Set","instance","ctor","isLive","peek","streamType","includes","isLiveLowLatency","lowLatencyMode","backBufferLength","renderTextTracksNatively","dispatcher","Bi","Object","values","Events","on","ERROR","callback","attachMedia","AUDIO_TRACK_SWITCHED","Ci","LEVEL_SWITCHED","Di","LEVEL_LOADED","Ei","NON_NATIVE_TEXT_TRACKS_FOUND","Fi","CUES_PARSED","Gi","qualities","QualitySymbol","pb","Hi","th","Ii","Ji","live","raf","Ki","_this$Ja$liveSyncPosi","_this$Ja","liveSyncPosition","set","Infinity","_this$zi$player","camelToKebabCase","data","currentTrack","i","tracks","length","_nonNativeTrack$subti","nonNativeTrack","init","subtitleTrack","closedCaptions","TextTrack","concat","url","lang","TextTrackSymbol","Na","$a","mode","default","setMode","textTracks","cue","cues","positionAlign","addCue","quality","level","totalduration","targetduration","details","Number","isFinite","currentLevel","ob","name","levels","width","height","codec","codecSet","bitrate","dispatchEvent","_this$Ja2","_this$Ja3","_this$Ja4","fatal","startLoad","recoverMediaError","destroy","auto","switch","selectedIndex","IS_CHROME","N","_this$Ja5","_this$Ai","call","HLSLibLoader","_lib","zf","Li","callbacks","onLoadStart","onLoaded","Vf","onLoadError","Mi","async","_callbacks$onLoadStar2","arguments","undefined","_callbacks$onLoaded3","loadScript","isFunction","Hls","Error","err","_callbacks$onLoadErro2","loadHLSScript","loader","_callbacks$onLoadStar","prototype","Function","_callbacks$onLoaded","_await$loader","isSupported","_callbacks$onLoaded2","_callbacks$onLoadErro","importHLS","e","coerceToError","HLSProvider","VideoProvider","super","$$PROVIDER_TYPE","hg","af","video","gg","canLiveSync","config","library","preconnect","_this$af$instance","onInstance","delete","supported","isHLSSupported","NativeHLSTextTracks","Da","nativeTrack","children","el","findTextTrackElement","Va","Ha","lastIndex","onCueChange","oncuechange","_track$TextTrackSymbo","VideoPictureInPicture","oa","active","ti","ui","document","pictureInPictureElement","canUsePictureInPicture","enter","requestPictureInPicture","exit","exitPictureInPicture","VideoPresentation","Ra","xi","canUseVideoPresentation","wi","webkitSetPresentationMode","_this$Ba$player","prevMode","webkitPresentationMode","forEach","FullscreenPresentationAdapter","_presentation","vi","PIPPresentationAdapter","scoped","presentation","fullscreen","pictureInPicture","canPlayHLSNatively","textRenderers","Ga"],"sourceRoot":""}